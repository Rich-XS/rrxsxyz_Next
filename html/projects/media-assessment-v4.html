<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯ V4.0 - æ·±åº¦æ€è€ƒæœ€ç»ˆç‰ˆ</title>
    <meta name="description" content="ä¸“ä¸šè‡ªåª’ä½“åˆ›ä½œè€…è½¬å‹å·¥å…·ï¼Œæ·±åº¦æ€è€ƒç‰ˆæœ¬ï¼Œç³»ç»Ÿè‡ªæµ‹ç†æ¸…ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯">
    <meta name="keywords" content="è‡ªåª’ä½“,è¢«åŠ¨æ”¶å…¥,åˆ›ä½œè€…,å•†ä¸šåŒ–,æ·±åº¦æ€è€ƒ,ç™¾ä¸‡æ”¶å…¥">
    <link rel="stylesheet" href="inline-styles.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f7fa; }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin: 2rem 0;
            overflow: hidden;
            position: relative;
        }

        .progress-pillars {
            display: flex;
            height: 100%;
            width: 100%;
        }

        .pillar-segment {
            height: 100%;
            position: relative;
            transition: width 0.3s ease;
            border-right: 1px solid rgba(255,255,255,0.3);
        }

        .pillar-segment:last-child {
            border-right: none;
        }

        .pillar-segment.active {
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 40%; /* å½“å‰æ”¯æŸ±å 40% */
        }

        .pillar-segment.completed {
            background: #28a745;
            width: 15%; /* å·²å®Œæˆæ”¯æŸ±å„å 15% */
        }

        .pillar-segment.pending {
            background: #e9ecef;
            width: 15%; /* æœªå¼€å§‹æ”¯æŸ±å„å 15% */
        }

        .pillar-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .current-pillar {
            font-weight: bold;
            color: #667eea;
        }

        .pillar-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.75rem;
        }

        .pillar-label {
            flex: 1;
            text-align: center;
            color: #888;
            transition: color 0.3s ease;
        }

        .pillar-label.active {
            color: #667eea;
            font-weight: bold;
        }

        .pillar-label.completed {
            color: #28a745;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            display: none;
        }

        .card.active { display: block; }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .question-number {
            color: #667eea;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .answer-input {
            width: 100%;
            min-height: 120px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem;
            font-size: 1rem;
            resize: vertical;
            font-family: inherit;
            line-height: 1.5;
            transition: border-color 0.3s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .placeholder-text {
            color: #888;
            font-style: italic;
            margin-top: 0.5rem;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover { transform: translateY(-2px); }
        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e9ecef;
            border-color: #ccc;
        }

        .btn-warning {
            background: #ffc107;
            color: #333;
            border: 2px solid #ffc107;
        }

        .btn-warning:hover {
            background: #e0a800;
            border-color: #e0a800;
        }

        .completion-screen {
            text-align: center;
            padding: 3rem 0;
            display: none;
        }

        .completion-screen.active { display: block; }

        .completion-icon { font-size: 4rem; margin-bottom: 1rem; }

        .start-screen {
            text-align: center;
            padding: 3rem 0;
        }

        .feature-list {
            list-style: none;
            margin: 2rem 0;
            text-align: left;
            display: inline-block;
        }

        .feature-list li {
            padding: 0.5rem 0;
            position: relative;
            padding-left: 2rem;
        }

        .feature-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        .pillar-indicator {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid #667eea;
        }

        .pillar-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .pillar-description {
            color: #666;
            font-size: 0.9rem;
        }

        .save-indicator {
            color: #28a745;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }

        .save-indicator.show {
            display: block;
            animation: fadeInOut 2s ease-in-out;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        .keyboard-hints {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .keyboard-hints h4 {
            margin-bottom: 0.5rem;
            color: #333;
            font-size: 1rem;
        }

        .hint-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.3rem;
        }

        .hint-key {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 0.2rem 0.5rem;
            font-family: monospace;
            font-weight: bold;
            margin-right: 0.5rem;
            min-width: 60px;
            text-align: center;
        }

        .quality-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
            animation: slideDown 0.3s ease-out;
        }

        .quality-warning.severe {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
            border-left-color: #dc3545;
        }

        .quality-timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 999;
        }

        .quality-timer.warning {
            background: rgba(255, 193, 7, 0.9);
            color: #333;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .simple-report {
            background: white;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            page-break-after: always;
        }

        .report-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #667eea;
        }

        .dimension-score {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 1rem 0;
            padding: 0.5rem;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .score-bar {
            flex: 1;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 0 1rem;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .choice-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .choice-modal.show {
            display: flex;
        }

        .choice-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            margin: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .choice-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #333;
            text-align: center;
        }

        .choice-info {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #667eea;
        }

        .choice-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn-choice {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-continue {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-continue:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .btn-restart {
            background: #ffc107;
            color: #333;
            border: 2px solid #ffc107;
        }

        .btn-restart:hover {
            background: #e0a800;
            border-color: #e0a800;
        }

        .user-info {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .required {
            color: #dc3545;
        }

        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .radio-item input[type="radio"] {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¯ ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯</h1>
        <h2>V4.0 æ·±åº¦æ€è€ƒæœ€ç»ˆç‰ˆ</h2>
        <p>ä¸“ä¸šè‡ªåª’ä½“åˆ›ä½œè€…è½¬å‹å·¥å…· - ç³»ç»Ÿè‡ªæµ‹ç†æ¸…ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯</p>
    </div>

    <div class="container">
        <!-- ç”¨æˆ·ç™»å½•/æ³¨å†Œç•Œé¢ -->
        <div id="loginScreen" class="card active">
            <h3>æ¬¢è¿ä½¿ç”¨æ·±åº¦æ€è€ƒæœ€ç»ˆç‰ˆ</h3>
            <p>æœ¬ç‰ˆæœ¬ä¸“ä¸ºæœ‰ç»éªŒçš„è‡ªåª’ä½“åˆ›ä½œè€…è®¾è®¡ï¼Œé€šè¿‡100ä¸ªæ·±åº¦å¼€æ”¾å¼é—®é¢˜ï¼Œå…¨é¢åˆ†æä½ çš„å•†ä¸šåŒ–æ½œåŠ›ã€‚</p>

            <div class="form-group">
                <label class="form-label">é€‰æ‹©æ“ä½œæ¨¡å¼ï¼š</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="newUser" name="userMode" value="new" checked>
                        <label for="newUser">æ–°ç”¨æˆ·æ³¨å†Œ</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="returningUser" name="userMode" value="returning">
                        <label for="returningUser">è€ç”¨æˆ·ç™»å½•</label>
                    </div>
                </div>
            </div>

            <div id="userForm">
                <div class="form-group">
                    <label class="form-label" for="userPhone">æ‰‹æœºå·ç  <span class="required">*</span> (ç”¨ä½œç”¨æˆ·å)</label>
                    <input type="tel" id="userPhone" class="form-input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç " required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="userEmail">é‚®ç®±åœ°å€ <span class="required">*</span> (ç”¨ä½œå¯†ç /æ¥æ”¶æŠ¥å‘Š)</label>
                    <input type="email" id="userEmail" class="form-input" placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€" required>
                </div>

                <div id="newUserFields">
                    <div class="form-group">
                        <label class="form-label" for="userName">å§“å/æ˜µç§° <span class="required">*</span></label>
                        <input type="text" id="userName" class="form-input" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“åæˆ–æ˜µç§°" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="userAge">å¹´é¾„æ®µ <span class="required">*</span></label>
                        <select id="userAge" class="form-select" required>
                            <option value="">è¯·é€‰æ‹©å¹´é¾„æ®µ</option>
                            <option value="<20">å°äº20å²</option>
                            <option value="20-30">20-30å²</option>
                            <option value="30-40">30-40å²</option>
                            <option value="40-50">40-50å²</option>
                            <option value="50-60">50-60å²</option>
                            <option value="60+">60å²ä»¥ä¸Š</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">æ€§åˆ« <span class="required">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="male" name="gender" value="male">
                                <label for="male">ç”·</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="female" name="gender" value="female">
                                <label for="female">å¥³</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="other" name="gender" value="other">
                                <label for="other">å…¶ä»–</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="navigation">
                <a href="../index.html" class="btn btn-secondary">è¿”å›é¦–é¡µ</a>
                <button type="button" onclick="handleUserAuth()" class="btn btn-primary" id="authBtn">å¼€å§‹è‡ªæµ‹</button>
            </div>

            <!-- éƒ¨ç½²é…ç½®æç¤º - å¼€å‘è€…ä¿¡æ¯ï¼Œç”¨æˆ·ä¸å¯è§ -->
            <div class="deployment-tip" style="display: none;">
                <h4>ğŸš€ éƒ¨ç½²æ–¹æ¡ˆï¼šåªéœ€ä¸Šä¼ HTMLæ–‡ä»¶</h4>
                <p>æœ¬ç³»ç»Ÿå·²ä¼˜åŒ–ä¸ºçº¯å‰ç«¯ç‰ˆæœ¬ï¼Œç›´æ¥ä¸Šä¼ åˆ°rrxs.xyzå³å¯ä½¿ç”¨ï¼š</p>
                <ul>
                    <li>ğŸ¤– AIåˆ†æï¼šç›´æ¥è°ƒç”¨Qwen/DeepSeek API</li>
                    <li>ğŸ“§ é‚®ä»¶å‘é€ï¼šä¸‰ç§æ–¹æ¡ˆè‡ªåŠ¨é™çº§</li>
                    <li>ğŸ“„ å¤‡ç”¨æ–¹æ¡ˆï¼šè‡ªåŠ¨ä¸‹è½½æŠ¥å‘Šæ–‡ä»¶</li>
                </ul>
                <div class="tip-highlight">
                    <strong>ğŸ“§ é‚®ä»¶å‘é€æ–¹æ¡ˆï¼ˆä¼˜å…ˆçº§ï¼‰ï¼š</strong>
                    <ol>
                        <li>EmailJS (æ¨è) - å…è´¹200å°/æœˆ</li>
                        <li>æ‰‹åŠ¨å‘é€ - å†…å®¹è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿</li>
                        <li>ä¸‹è½½æ–‡ä»¶ - ç”¨æˆ·ç›´æ¥è·å–æŠ¥å‘Š</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- å¼€å§‹ç•Œé¢ -->
        <div id="startScreen" class="card">
            <div id="userInfo" class="user-info"></div>
            <h3>å‡†å¤‡å¼€å§‹æ·±åº¦è‡ªæµ‹</h3>
            <p>æ‚¨å³å°†å¼€å§‹100ä¸ªæ·±åº¦æ€è€ƒé—®é¢˜çš„è‡ªæµ‹ï¼Œæ¶µç›–è‡ªåª’ä½“å•†ä¸šåŒ–çš„5å¤§æ ¸å¿ƒç»´åº¦ã€‚</p>

            <!-- å‹æƒ…æé†’ -->
            <div class="choice-info" style="margin: 2rem 0;">
                <h4>âš ï¸ å‹æƒ…æé†’ - ç¡®ä¿è·å¾—é«˜è´¨é‡åˆ†ææŠ¥å‘Š</h4>
                <p><strong>ä¸ºäº†è·å¾—ä¸“ä¸šå‡†ç¡®çš„åˆ†ææŠ¥å‘Šï¼Œè¯·åŠ¡å¿…éµå®ˆä»¥ä¸‹è¦æ±‚ï¼š</strong></p>
                <ul style="text-align: left; margin: 1rem 0; padding-left: 2rem;">
                    <li><strong>æ€»æ—¶é•¿ä¸ä½äº30åˆ†é’Ÿ</strong> - æ·±åº¦æ€è€ƒéœ€è¦å……è¶³æ—¶é—´</li>
                    <li><strong>æ¯é¢˜è‡³å°‘10ç§’</strong> - é¿å…åŒ†å¿™ä½œç­”å½±å“åˆ†æå‡†ç¡®æ€§</li>
                    <li><strong>åŸåˆ›å›ç­”</strong> - è¯·ç”¨è‡ªå·±çš„è¯­è¨€å›ç­”ï¼Œä¸è¦ç…§æŠ„ç¤ºä¾‹</li>
                    <li><strong>çœŸå®å…·ä½“</strong> - åŸºäºçœŸå®æƒ…å†µæä¾›å…·ä½“æ¡ˆä¾‹å’Œæ•°æ®</li>
                    <li><strong>å®Œæ•´ä½œç­”</strong> - å»ºè®®æ¯é¢˜ä¸å°‘äº30å­—ï¼Œè¯¦ç»†æè¿°ç°çŠ¶</li>
                </ul>
                <p style="color: #dc3545; font-weight: bold;">
                    âš¡ ç³»ç»Ÿå°†å®æ—¶ç›‘æ§ç­”é¢˜è´¨é‡ï¼Œè¿ç»­ä½è´¨é‡ä½œç­”å°†å½±å“æŠ¥å‘Šç”Ÿæˆ
                </p>
            </div>

            <ul class="feature-list">
                <li>100ä¸ªæ·±åº¦æ€è€ƒé—®é¢˜</li>
                <li>5å¤§æ ¸å¿ƒç»´åº¦å…¨é¢è¯„ä¼°</li>
                <li>è‡ªåŠ¨ä¿å­˜ï¼Œéšæ—¶æš‚é€€</li>
                <li>AIé©±åŠ¨ä¸ªæ€§åŒ–å•†ä¸šåŒ–å»ºè®®</li>
                <li>é¢„è®¡å®Œæˆæ—¶é—´ï¼š30-45åˆ†é’Ÿ</li>
            </ul>

            <div class="navigation">
                <button type="button" onclick="showUserAuth()" class="btn btn-secondary">è¿”å›ç”¨æˆ·ä¿¡æ¯</button>
                <button type="button" onclick="confirmStartAssessment()" class="btn btn-primary">æˆ‘å·²äº†è§£ï¼Œå¼€å§‹æ·±åº¦è‡ªæµ‹</button>
            </div>
        </div>

        <!-- è¿›åº¦æ¡ -->
        <div id="progressContainer" style="display: none;">
            <div class="progress-info">
                <div>
                    <span class="current-pillar" id="currentPillar">å®šä½ç»´åº¦</span>
                    <span id="pillarProgress">ç¬¬1é¢˜ / 20é¢˜</span>
                </div>
                <div id="progressText">æ€»è¿›åº¦ 1 / 100</div>
            </div>
            <div class="progress-bar">
                <div class="progress-pillars">
                    <div class="pillar-segment active" id="pillar-0">
                        <div class="pillar-progress" id="pillar-progress-0"></div>
                    </div>
                    <div class="pillar-segment pending" id="pillar-1">
                        <div class="pillar-progress" id="pillar-progress-1"></div>
                    </div>
                    <div class="pillar-segment pending" id="pillar-2">
                        <div class="pillar-progress" id="pillar-progress-2"></div>
                    </div>
                    <div class="pillar-segment pending" id="pillar-3">
                        <div class="pillar-progress" id="pillar-progress-3"></div>
                    </div>
                    <div class="pillar-segment pending" id="pillar-4">
                        <div class="pillar-progress" id="pillar-progress-4"></div>
                    </div>
                </div>
            </div>
            <div class="pillar-labels">
                <div class="pillar-label active" id="pillar-label-0">å®šä½</div>
                <div class="pillar-label" id="pillar-label-1">ç”¨æˆ·</div>
                <div class="pillar-label" id="pillar-label-2">äº§å“</div>
                <div class="pillar-label" id="pillar-label-3">æµé‡</div>
                <div class="pillar-label" id="pillar-label-4">ä½“ç³»</div>
            </div>
        </div>

        <!-- é—®é¢˜å¡ç‰‡ -->
        <div id="questionsContainer" style="display: none;">
            <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- å®Œæˆç•Œé¢ -->
        <div id="completionScreen" class="card">
            <div class="completion-icon">ğŸ‰</div>
            <h3>æ­å–œå®Œæˆè‡ªæµ‹ï¼</h3>
            <p>æ‚¨çš„ç­”æ¡ˆå·²ç»ä¿å­˜ï¼Œä¸“ä¸šåˆ†ææŠ¥å‘Šæ­£åœ¨ç”Ÿæˆä¸­...</p>

            <div id="reportProgress" style="margin: 2rem 0; display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="reportProgressBar"></div>
                </div>
                <div style="text-align: center; color: #666; margin-top: 0.5rem;">
                    <span id="reportStatus">æ­£åœ¨åˆ†ææ‚¨çš„ç­”æ¡ˆ...</span>
                </div>
            </div>

            <div id="reportComplete" style="display: none;">
                <div class="choice-info">
                    <h4>ğŸ“Š æ‚¨çš„ä¸“ä¸šåˆ†ææŠ¥å‘Šå·²ç”Ÿæˆï¼</h4>
                    <p>ğŸ”¸ ä¸ªæ€§åŒ–å•†ä¸šåŒ–å»ºè®®</p>
                    <p>ğŸ”¸ äº”å¤§ç»´åº¦æ·±åº¦è¯„ä¼°</p>
                    <p>ğŸ”¸ å…·ä½“è¡ŒåŠ¨è®¡åˆ’æŒ‡å¯¼</p>
                </div>

                <div class="qr-section" style="text-align: center; margin: 2rem 0;">
                    <p style="font-weight: bold; margin-bottom: 1rem;">æ‰«ç å…³æ³¨å…¬ä¼—å·ï¼Œè·å–å®Œæ•´PDFæŠ¥å‘Š</p>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <div style="width: 150px; height: 150px; border-radius: 8px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #666; font-size: 0.9rem;">å…¬ä¼—å·äºŒç»´ç </div>
                    </div>
                    <p style="color: #dc3545; font-size: 0.9rem; font-weight: bold;">
                        ğŸ“„ PDFæŠ¥å‘Šå·²åŠ å¯†ä¿æŠ¤ï¼Œå…³æ³¨åå›å¤ <strong>"ç™¾ä¸‡ä¹‹è·¯"</strong> è·å–æ–‡ä»¶æ‰“å¼€å¯†ç 
                    </p>
                </div>

                <div class="email-info" style="background: #e3f2fd; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                    <strong>ğŸ“§ æŠ¥å‘Šå°†å‘é€è‡³æ‚¨çš„é‚®ç®±ï¼š</strong><br>
                    <span id="userEmailDisplay"></span>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <button type="button" onclick="restartAssessment()" class="btn btn-secondary" style="margin-right: 1rem;">é‡æ–°å¼€å§‹</button>
                <a href="../index.html" class="btn btn-primary">è¿”å›é¦–é¡µ</a>
            </div>
        </div>

        <!-- è€ç”¨æˆ·é€‰æ‹©æ¨¡æ€æ¡† -->
        <div id="choiceModal" class="choice-modal">
            <div class="choice-content">
                <div class="choice-title">æ£€æµ‹åˆ°æ‚¨çš„å†å²è®°å½•</div>
                <div class="choice-info">
                    <strong>å·²å®Œæˆè¿›åº¦ï¼š</strong> <span id="savedProgressText"></span><br>
                    <strong>ä¿å­˜æ—¶é—´ï¼š</strong> <span id="savedTimeText"></span>
                </div>
                <div class="choice-buttons">
                    <button type="button" onclick="continueAssessment()" class="btn-choice btn-continue">
                        ç»§ç»­å®Œæˆ
                    </button>
                    <button type="button" onclick="restartFromBeginning()" class="btn-choice btn-restart">
                        é‡æ–°å¼€å§‹
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- è´¨é‡æ£€æµ‹å‚æ•°é…ç½® -->
    <script src="quality-config.js"></script>

    <!-- EmailJS SDK - å…è´¹é‚®ä»¶å‘é€æœåŠ¡ -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        // EmailJSé…ç½® - è¯·æ›¿æ¢ä¸ºä½ çš„çœŸå®é…ç½®
        // æ³¨å†Œåœ°å€ï¼šhttps://www.emailjs.com/
        // å…è´¹è´¦æˆ·æ¯æœˆå¯å‘é€200å°é‚®ä»¶

        /*
        // å–æ¶ˆæ³¨é‡Šå¹¶å¡«å…¥ä½ çš„é…ç½®ä¿¡æ¯
        emailjs.init('YOUR_PUBLIC_KEY'); // ä½ çš„Public Key

        window.EMAILJS_CONFIG = {
            serviceId: 'YOUR_SERVICE_ID',     // é‚®ä»¶æœåŠ¡ID
            templateId: 'YOUR_TEMPLATE_ID',   // é‚®ä»¶æ¨¡æ¿ID
            publicKey: 'YOUR_PUBLIC_KEY'      // Public Key
        };
        */

        // EmailJSé…ç½®æ£€æŸ¥ï¼ˆä»…æ§åˆ¶å°è¾“å‡ºï¼Œä¸æ˜¾ç¤ºç»™ç”¨æˆ·ï¼‰
        if (typeof emailjs !== 'undefined') {
            console.log('âœ… EmailJS SDKå·²åŠ è½½');
        } else {
            console.log('âš ï¸ EmailJS SDKæœªåŠ è½½ï¼Œå°†ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ');
        }

        // å…¨å±€å‡½æ•°å£°æ˜ - ç¡®ä¿HTML onclickå¯ä»¥è®¿é—®
        async function handleUserAuth() {
            console.log('handleUserAuth called');
            // å‡½æ•°ä½“å°†åœ¨åé¢çš„scriptä¸­å®ç°
            if (window.handleUserAuthImpl) {
                return window.handleUserAuthImpl();
            } else {
                console.error('handleUserAuthImpl not loaded yet');
            }
        }

        function showUserAuth() {
            if (window.showUserAuthImpl) {
                return window.showUserAuthImpl();
            }
        }

        function confirmStartAssessment() {
            if (window.confirmStartAssessmentImpl) {
                return window.confirmStartAssessmentImpl();
            }
        }
    </script>

    <script>
        // å®Œæ•´çš„100é¢˜é¢˜åº“ï¼ˆæ¯ä¸ªæ”¯æŸ±20é¢˜ï¼‰
        const questions = [
            // å®šä½ç»´åº¦ - 20é¢˜
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "é™¤äº†èµšé’±ï¼Œé©±åŠ¨ä½ å“ç‰Œçš„å”¯ä¸€ä½¿å‘½æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¸®åŠ©èŒåœºå¦ˆå¦ˆå®ç°å·¥ä½œä¸ç”Ÿæ´»çš„å¹³è¡¡" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ç”¨ä¸€å¥è¯æè¿°ä½ çš„æ ¸å¿ƒä»·å€¼ä¸»å¼ ï¼Œè®©ä¸€ä¸ª10å²çš„å­©å­ä¹Ÿèƒ½å¬æ‡‚ã€‚", placeholder: "ä¾‹å¦‚ï¼šæˆ‘æ•™äººä»¬ç”¨æ‰‹æœºæ‹å‡ºå¥½çœ‹çš„ç…§ç‰‡" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "å¦‚æœä½ çš„å“ç‰Œæ˜¯ä¸€ä¸ªäººï¼Œä½ ä¼šå¦‚ä½•æè¿°ä»–/å¥¹çš„æ€§æ ¼ã€ä»·å€¼è§‚å’Œå£°éŸ³ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸“ä¸šä½†äº²å’Œï¼Œä¸¥è°¨ä½†ä¸å¤±å¹½é»˜" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "æœªæ¥ä¸‰å¹´ï¼Œä½ å¸Œæœ›åœ¨ä½ çš„é¢†åŸŸå†…è¾¾åˆ°ä»€ä¹ˆæ ·çš„åœ°ä½æˆ–å½±å“åŠ›ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæˆä¸ºå°çº¢ä¹¦ç¾å¦†é¢†åŸŸTOP10åšä¸»" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„'ä¸å…¬å¹³ä¼˜åŠ¿'æ˜¯ä»€ä¹ˆï¼Œæ˜¯ä»–äººæ— æ³•è½»æ˜“å¤åˆ¶çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š10å¹´åŒ–å¦†å¸ˆç»éªŒ+æ˜æ˜Ÿå®¢æˆ·èµ„æº" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„ä¸ªäººå“ç‰Œæ•…äº‹çš„æ ¸å¿ƒå†²çªæˆ–è½¬æŠ˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä»æœˆè–ª3åƒåˆ°æœˆå…¥10ä¸‡çš„é€†è¢­ç»å†" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "åœ¨ä½ çš„ä¸“ä¸šé¢†åŸŸï¼Œä½ æœ€åå¯¹æˆ–æœ€æƒ³æ”¹å˜çš„ç°çŠ¶æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šåå¯¹ä¼ ç»Ÿè‚²å„¿æ–¹å¼å¯¹å­©å­åˆ›é€ åŠ›çš„æ‰¼æ€" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "å¦‚æœä½ åªèƒ½é€‰æ‹©ä¸€ä¸ªè¯æ¥ä»£è¡¨ä½ çš„å“ç‰Œï¼Œé‚£ä¼šæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š'å®ç”¨'ï¼Œå› ä¸ºæˆ‘åªåˆ†äº«çœŸæ­£æœ‰æ•ˆçš„æ–¹æ³•" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„ç”¨æˆ·æåˆ°ä½ æ—¶ï¼Œä½ æœ€å¸Œæœ›ä»–ä»¬ç”¨ä»€ä¹ˆå½¢å®¹è¯æè¿°ä½ ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé è°±ã€ä¸“ä¸šã€æœ‰è¶£ã€å®ç”¨" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„å†…å®¹åˆ›ä½œçµæ„Ÿä¸»è¦æ¥æºäºä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç”¨æˆ·é—®é¢˜åé¦ˆã€è¡Œä¸šçƒ­ç‚¹äº‹ä»¶ã€ä¸ªäººç»å†" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ è®¤ä¸ºè‡ªå·±åœ¨æ•´ä¸ªè¡Œä¸šç”Ÿæ€ä¸­æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šçŸ¥è¯†çš„ç¿»è¯‘è€…ï¼Œå°†ä¸“ä¸šå†…å®¹å¹³æ°‘åŒ–" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "å¦‚æœæ˜å¤©ä½ çš„æ‰€æœ‰ç¤¾äº¤åª’ä½“è´¦å·éƒ½æ¶ˆå¤±äº†ï¼Œä½ ä¼šå¦‚ä½•é‡æ–°å¼€å§‹ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä»ä¸ªäººå¾®ä¿¡æœ‹å‹åœˆå¼€å§‹ï¼Œé‡æ–°å»ºç«‹ä¿¡ä»»" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„å†…å®¹é£æ ¼å—åˆ°å“ªäº›äººæˆ–å“ç‰Œçš„å½±å“ï¼Ÿä½ å¦‚ä½•èåˆå½¢æˆè‡ªå·±çš„ç‰¹è‰²ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç»“åˆç½—èƒ–çš„é€»è¾‘æ€ç»´å’Œæä½³ç¦çš„å¸¦è´§èƒ½åŠ›" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ æœ€ä¸æ„¿æ„ä¸ºäº†æµé‡è€Œå¦¥åçš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç»ä¸æ¨èè‡ªå·±æ²¡ç”¨è¿‡çš„äº§å“" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "æè¿°ä¸€ä¸ªè®©ä½ æ„Ÿåˆ°æœ€æœ‰æˆå°±æ„Ÿçš„ç”¨æˆ·åé¦ˆæ¡ˆä¾‹ã€‚", placeholder: "ä¾‹å¦‚ï¼šå¸®åŠ©ä¸€ä¸ªå®å¦ˆé‡æ–°æ‰¾åˆ°å·¥ä½œå¹¶å‡èŒåŠ è–ª" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„ä¸“ä¸šèƒŒæ™¯å¦‚ä½•ä¸ºä½ çš„å†…å®¹åˆ›ä½œæä¾›ç‹¬ç‰¹è§†è§’ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¿ƒç†å­¦èƒŒæ™¯è®©æˆ‘èƒ½ä»è¡Œä¸ºåŠ¨æœºè§’åº¦åˆ†æé—®é¢˜" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "å¦‚æœè¦ç»™ä½ çš„ä¸ªäººå“ç‰Œåˆ¶ä½œä¸€ä¸ª30ç§’çš„ç”µæ¢¯æ¼”è®²ï¼Œä½ ä¼šæ€ä¹ˆè¯´ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæˆ‘å¸®èŒåœºæ–°äºº30å¤©å†…æŒæ¡å‡èŒåŠ è–ªçš„æ ¸å¿ƒæŠ€èƒ½" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„å†…å®¹åˆ›ä½œä¸­ï¼Œå“ªäº›å…ƒç´ æ˜¯ä½ ç»å¯¹ä¸ä¼šå¤–åŒ…ç»™åˆ«äººçš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé€‰é¢˜ç­–åˆ’å’Œæ ¸å¿ƒè§‚ç‚¹ï¼Œè¿™æ˜¯æˆ‘çš„çµé­‚" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "åå¹´åï¼Œä½ å¸Œæœ›äººä»¬å¦‚ä½•è¯„ä»·ä½ åœ¨è¿™ä¸ªé¢†åŸŸçš„è´¡çŒ®ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¥¹è®©ç†è´¢å˜å¾—ç®€å•æ˜“æ‡‚ï¼Œå¸®åŠ©äº†åƒä¸‡äººå®ç°è´¢åŠ¡è‡ªç”±" },
            { pillar: "å®šä½", title: "å®šä½ (Purpose)", description: "ä½ ä¸ºä½•å­˜åœ¨ï¼Ÿä½ æ˜¯è°ï¼Œä½ å¸¦æ¥ä»€ä¹ˆç‹¬ç‰¹ä»·å€¼ï¼Ÿ", text: "ä½ çš„å“ç‰Œå¦‚æœè¦è·¨ç•Œåˆä½œï¼Œä½ æœ€æƒ³ä¸ä»€ä¹ˆç±»å‹çš„å“ç‰Œè”åï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ•™è‚²å“ç‰Œï¼Œå› ä¸ºéƒ½è‡´åŠ›äºè®©äººå˜å¾—æ›´å¥½" },

            // ç”¨æˆ·ç»´åº¦ - 20é¢˜
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„'é™ªç¡ç†ŠçŒ«çœ¼å®å¦ˆ'æ˜¯è°ï¼Ÿè¯·æå…¶å…·ä½“åœ°æè¿°ä½ çš„è¶…ç»†åˆ†æ ¸å¿ƒç”¨æˆ·ã€‚", placeholder: "ä¾‹å¦‚ï¼š25-35å²ï¼Œä¸€çº¿åŸå¸‚ï¼Œæœ‰1-2ä¸ªå­©å­çš„èŒåœºå¦ˆå¦ˆ" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç†æƒ³å®¢æˆ·åœ¨é‡åˆ°é—®é¢˜æ—¶ï¼Œä¼šå»å“ªä¸ªå¹³å°æœç´¢ä»€ä¹ˆå…³é”®è¯ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šåœ¨å°çº¢ä¹¦æœç´¢'äº§åå‡è‚¥æ–¹æ³•'" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "æç»˜ä¸€ä¸ªå…¸å‹ç”¨æˆ·çš„24å°æ—¶ï¼Œæ ‡è®°å‡ºä»–ä»¬å¯èƒ½ä¸ä½ çš„å†…å®¹æˆ–äº§å“äº’åŠ¨çš„åœºæ™¯ã€‚", placeholder: "ä¾‹å¦‚ï¼šæ—©ä¸Š7ç‚¹é€šå‹¤è·¯ä¸Šåˆ·æŠ–éŸ³ï¼Œæ™šä¸Š10ç‚¹èººåºŠä¸Šçœ‹å°çº¢ä¹¦" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·åœ¨è´­ä¹°å†³ç­–å‰ï¼Œæœ€å¤§çš„é¡¾è™‘å’Œéšœç¢æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ‹…å¿ƒæ²¡æ—¶é—´å­¦ä¹ ï¼Œæ€•ä¹°äº†ç”¨ä¸ä¸Š" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "é™¤äº†åŠŸèƒ½éœ€æ±‚ï¼Œä½ çš„ç”¨æˆ·åœ¨æƒ…æ„Ÿå’Œç²¾ç¥å±‚é¢æœ€æ¸´æœ›å¾—åˆ°ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé‡æ–°æ‰¾å›è‡ªä¿¡ï¼Œè·å¾—å®¶äººè®¤å¯" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·ç¾¤ä½“ä¸­ï¼Œæœ‰å“ªäº›ç»†åˆ†äººç¾¤ï¼Ÿä»–ä»¬çš„å·®å¼‚åŒ–éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ–°æ‰‹å°ç™½éœ€è¦åŸºç¡€ç§‘æ™®ï¼Œè€æ‰‹éœ€è¦è¿›é˜¶æŠ€å·§" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·é€šå¸¸åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šä¸»åŠ¨å¯»æ‰¾ä½ çš„å†…å®¹ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé‡åˆ°èŒåœºå›°æƒ‘æ—¶ï¼Œæƒ³è¦æ”¹å˜ç°çŠ¶æ—¶" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„æ ¸å¿ƒç”¨æˆ·ç”»åƒä¸­ï¼Œæ”¶å…¥æ°´å¹³ã€æ¶ˆè´¹èƒ½åŠ›å¤§æ¦‚æ˜¯ä»€ä¹ˆèŒƒå›´ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæœˆæ”¶å…¥8åƒ-2ä¸‡ï¼Œæœ‰ä¸€å®šæ¶ˆè´¹èƒ½åŠ›ä½†æ³¨é‡æ€§ä»·æ¯”" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·åœ¨é€‰æ‹©å…³æ³¨ä½ è€Œä¸æ˜¯ç«äº‰å¯¹æ‰‹æ—¶ï¼Œæœ€çœ‹é‡çš„å› ç´ æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå†…å®¹æ›´å®ç”¨ã€è®²è§£æ›´æ¸…æ¥šã€æ›´æœ‰äº²å’ŒåŠ›" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·çš„å­¦ä¹ ä¹ æƒ¯å’Œå†…å®¹åå¥½æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå–œæ¬¢çŸ­è§†é¢‘ï¼Œç¢ç‰‡åŒ–å­¦ä¹ ï¼Œéœ€è¦æ¡ˆä¾‹è¯´æ˜" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·åœ¨ä½ çš„å†…å®¹ä¹‹å¤–ï¼Œè¿˜å…³æ³¨å“ªäº›ç±»å‹çš„åšä¸»æˆ–å†…å®¹ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¹Ÿå…³æ³¨æ—¶å°šåšä¸»ã€ç†è´¢åšä¸»ã€è‚²å„¿ä¸“å®¶" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·ç¾¤ä½“çš„åœ°åŸŸåˆ†å¸ƒå¦‚ä½•ï¼Ÿè¿™å¯¹ä½ çš„å†…å®¹ç­–ç•¥æœ‰ä½•å½±å“ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸»è¦åœ¨ä¸€äºŒçº¿åŸå¸‚ï¼Œå†…å®¹è¦è´´åˆéƒ½å¸‚ç”Ÿæ´»" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ å¦‚ä½•å®šæœŸäº†è§£å’Œè·Ÿè¸ªç”¨æˆ·éœ€æ±‚çš„å˜åŒ–ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå®šæœŸé—®å·è°ƒç ”ï¼Œç§ä¿¡äº’åŠ¨ï¼Œè¯„è®ºåŒºè§‚å¯Ÿ" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·ä»å…³æ³¨ä½ åˆ°æˆä¸ºä»˜è´¹å®¢æˆ·ï¼Œé€šå¸¸éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š3-6ä¸ªæœˆçš„åŸ¹è‚²æœŸï¼Œéœ€è¦å»ºç«‹è¶³å¤Ÿä¿¡ä»»" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·æœ€å¸¸åœ¨ä»€ä¹ˆæ—¶é—´æ®µæ´»è·ƒï¼Ÿä½ å¦‚ä½•åˆ©ç”¨è¿™ä¸ªè§„å¾‹ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ™šä¸Š8-10ç‚¹æœ€æ´»è·ƒï¼Œè¿™æ—¶å‘å†…å®¹äº’åŠ¨æœ€å¥½" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·ä¸­ï¼Œç”·å¥³æ¯”ä¾‹å¦‚ä½•ï¼Ÿä¸åŒæ€§åˆ«çš„éœ€æ±‚å·®å¼‚å¦‚ä½•ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š7:3å¥³æ€§ä¸ºä¸»ï¼Œå¥³æ€§æ›´å…³æ³¨æƒ…æ„Ÿå…±é¸£" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·çš„æ•™è‚²èƒŒæ™¯å’ŒèŒä¸šåˆ†å¸ƒå¤§æ¦‚æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæœ¬ç§‘ä»¥ä¸Šå­¦å†å±…å¤šï¼Œç™½é¢†ã€æ•™å¸ˆã€åŒ»ç”Ÿç­‰èŒä¸š" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„è€ç”¨æˆ·å’Œæ–°ç”¨æˆ·åœ¨éœ€æ±‚ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè€ç”¨æˆ·éœ€è¦æ›´æ·±åº¦å†…å®¹ï¼Œæ–°ç”¨æˆ·éœ€è¦åŸºç¡€å…¥é—¨" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "ä½ çš„ç”¨æˆ·åœ¨ç¤¾äº¤åª’ä½“ä¸Šçš„è¡Œä¸ºç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå–œæ¬¢ç‚¹èµæ”¶è—ä½†è¾ƒå°‘è¯„è®ºï¼Œæ›´æ„¿æ„ç§ä¿¡äº¤æµ" },
            { pillar: "ç”¨æˆ·", title: "ç”¨æˆ· (People)", description: "ä½ ä¸ºè°æœåŠ¡ï¼Ÿæ·±åº¦ç†è§£ä½ çš„ç›®æ ‡å—ä¼—ã€‚", text: "å¦‚æœè®©ä½ çš„æ ¸å¿ƒç”¨æˆ·æ¨èä½ ç»™æœ‹å‹ï¼Œä»–ä»¬ä¼šæ€ä¹ˆä»‹ç»ä½ ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè¿™ä¸ªåšä¸»å¾ˆé è°±ï¼Œåˆ†äº«çš„æ–¹æ³•éƒ½å¾ˆå®ç”¨" },

            // äº§å“ç»´åº¦ - 20é¢˜
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "å®Œæ•´åœ°ç”»å‡ºä½ çš„ä»·å€¼é˜¶æ¢¯ï¼Œä»å…è´¹çš„æµé‡ç£çŸ³åˆ°æœ€è´µçš„é«˜å®¢å•ä»·äº§å“ã€‚", placeholder: "ä¾‹å¦‚ï¼šå…è´¹ç”µå­ä¹¦â†’99å…ƒå…¥é—¨è¯¾â†’999å…ƒç³»ç»Ÿè¯¾â†’9999å…ƒä¸€å¯¹ä¸€" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„æ ¸å¿ƒäº§å“æ‰¿è¯ºä¸ºç”¨æˆ·å¸¦æ¥å“ªä¸ªå…·ä½“ã€å¯è¡¡é‡çš„ç»“æœï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š30å¤©å†…å‡é‡5å…¬æ–¤ï¼Œè€Œä¸æ˜¯'å˜å¾—æ›´å¥åº·'" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“å¦‚ä½•é€šè¿‡æä¾›è½¬å‹å’Œç¤¾ç¾¤ä»·å€¼ï¼Œæ¥å¯¹æŠ—å¸‚åœºå¤è´­ç‡ä¸‹é™çš„è¶‹åŠ¿ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå»ºç«‹å­¦å‘˜ç¤¾ç¾¤ï¼Œæä¾›æŒç»­æ”¯æŒå’Œäº¤æµ" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•è®¾è®¡äº§å“çš„'æƒŠå–œæ—¶åˆ»'ï¼Œè¶…å‡ºç”¨æˆ·çš„é¢„æœŸï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šèµ é€é¢å¤–çš„ä¸€å¯¹ä¸€å’¨è¯¢æœºä¼š" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "å¦‚æœä½ å¿…é¡»å°†ç°æœ‰äº§å“ç æ‰80%ï¼Œä½ ä¼šä¿ç•™å“ª20%ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¿ç•™æ ¸å¿ƒè¯¾ç¨‹ï¼Œå› ä¸ºå®ƒæ˜¯æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“å®šä»·ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¹³è¡¡ä»·å€¼æ„ŸçŸ¥å’Œæ”¯ä»˜èƒ½åŠ›ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¯¹æ ‡è¡Œä¸šå¹³å‡ä»·æ ¼ï¼Œæä¾›åˆ†æœŸä»˜æ¬¾é€‰é¡¹" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•åœ¨äº§å“ä¸­æ¤å…¥ä½ çš„ä¸ªäººIPå’Œå“ç‰Œç‰¹è‰²ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç”¨ç‹¬ç‰¹çš„æ–¹æ³•è®ºå‘½åï¼ŒåŠ å…¥ä¸ªäººæ•…äº‹æ¡ˆä¾‹" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“äº¤ä»˜æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç¡®ä¿ç”¨æˆ·ä½“éªŒçš„ä¸€è‡´æ€§ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå½•æ’­è¯¾ç¨‹+ç›´æ’­ç­”ç–‘+ç¤¾ç¾¤æœåŠ¡" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•å¤„ç†äº§å“çš„ç‰ˆæœ¬è¿­ä»£å’Œè€ç”¨æˆ·çš„æƒç›Šä¿æŠ¤ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè€ç”¨æˆ·å…è´¹å‡çº§ï¼Œæ–°å¢å†…å®¹å•ç‹¬æ”¶è´¹" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“ä¸­æœ€å®¹æ˜“è¢«æ¨¡ä»¿çš„éƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿä½ å¦‚ä½•å»ºç«‹æŠ¤åŸæ²³ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè¯¾ç¨‹å†…å®¹æ˜“æ¨¡ä»¿ï¼Œä½†ä¸ªäººå“ç‰Œå’ŒæœåŠ¡éš¾ä»¥å¤åˆ¶" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•è®¾è®¡äº§å“çš„è¯•ç”¨æˆ–ä½“éªŒç¯èŠ‚æ¥æé«˜è½¬åŒ–ç‡ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæä¾›å…è´¹ä½“éªŒè¯¾ï¼Œè®©ç”¨æˆ·æ„Ÿå—æ•™å­¦è´¨é‡" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“ç»„åˆä¸­ï¼Œå“ªä¸ªæ˜¯åˆ©æ¶¦æœ€é«˜çš„ï¼Ÿå“ªä¸ªæ˜¯å¼•æµæ•ˆæœæœ€å¥½çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸€å¯¹ä¸€å’¨è¯¢åˆ©æ¶¦æœ€é«˜ï¼Œå…¥é—¨è¯¾å¼•æµæœ€å¥½" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•æ”¶é›†å’Œå¤„ç†ç”¨æˆ·å¯¹äº§å“çš„åé¦ˆå’Œå»ºè®®ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè¯¾ç¨‹ç»“æŸåé—®å·è°ƒç ”ï¼Œæ ¹æ®åé¦ˆä¼˜åŒ–å†…å®¹" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“å”®åæœåŠ¡ä½“ç³»æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š3ä¸ªæœˆå†…ä¸é™æ¬¡æ•°ç­”ç–‘ï¼Œç»ˆèº«ç¤¾ç¾¤æœåŠ¡" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•é€šè¿‡äº§å“çŸ©é˜µå®ç°ç”¨æˆ·ä»·å€¼çš„æœ€å¤§åŒ–ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä»åŸºç¡€åˆ°è¿›é˜¶çš„å®Œæ•´å­¦ä¹ è·¯å¾„" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“åŒ…è£…å’Œè¥é”€æ–‡æ¡ˆçš„æ ¸å¿ƒå–ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¼ºè°ƒç»“æœå¯¼å‘å’Œå®æˆ˜æ€§ï¼Œç”¨æ•°æ®è¯´è¯" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•è®¾è®¡äº§å“çš„ç¨€ç¼ºæ€§å’Œç´§è¿«æ„Ÿæ¥ä¿ƒè¿›æˆäº¤ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé™æ—¶ä¼˜æƒ ï¼Œé™é‡åé¢ï¼Œå€’è®¡æ—¶è¥é”€" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“æˆæœ¬ç»“æ„å¦‚ä½•ï¼Ÿå¦‚ä½•åœ¨ä¿è¯è´¨é‡çš„åŒæ—¶æ§åˆ¶æˆæœ¬ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå†…å®¹åˆ¶ä½œå å¤§å¤´ï¼Œé€šè¿‡æ ‡å‡†åŒ–é™ä½è¾¹é™…æˆæœ¬" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ å¦‚ä½•è®¾è®¡äº§å“çš„å¤è´­æœºåˆ¶å’Œä¼šå‘˜ä½“ç³»ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¹´åº¦ä¼šå‘˜åˆ¶ï¼Œæ¯æœˆæ›´æ–°å†…å®¹ï¼Œäº«å—ä¸“å±æœåŠ¡" },
            { pillar: "äº§å“", title: "äº§å“ (Product)", description: "ä½ å–ä»€ä¹ˆï¼Ÿæ‰“é€ æ— æ³•æŠ—æ‹’çš„ä»·å€¼ä¸»å¼ ã€‚", text: "ä½ çš„äº§å“å¦‚ä½•ä¸ä½ çš„å…è´¹å†…å®¹å½¢æˆæœ‰æœºè”ç³»å’Œä»·å€¼é€’è¿›ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå…è´¹å†…å®¹è§£å†³è¡¨é¢é—®é¢˜ï¼Œä»˜è´¹äº§å“æ·±åº¦è§£å†³æ ¹æœ¬é—®é¢˜" },

            // æµé‡ç»´åº¦ - 20é¢˜
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„ä¸»è¦'ç§è‰'å¹³å°å’Œä¸»è¦'è½¬åŒ–'å¹³å°åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå°çº¢ä¹¦ç§è‰ï¼Œå¾®ä¿¡è½¬åŒ–" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "è¯¦ç»†æè¿°ä½ çš„å…¬åŸŸ-ç§åŸŸè”åŠ¨æ¼æ–—æµç¨‹ã€‚", placeholder: "ä¾‹å¦‚ï¼šæŠ–éŸ³è§†é¢‘â†’ä¸ªäººç®€ä»‹â†’å¾®ä¿¡â†’æœ‹å‹åœˆâ†’è¯¾ç¨‹é”€å”®" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ åœ¨æ¯ä¸ªæ ¸å¿ƒå¹³å°çš„å†…å®¹ç­–ç•¥æœ‰ä½•ä¸åŒï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæŠ–éŸ³åšå¨±ä¹åŒ–ç§‘æ™®ï¼Œå°çº¢ä¹¦åšæ·±åº¦è§£å†³æ–¹æ¡ˆ" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„å†…å®¹åˆ†å‘çŸ©é˜µæ˜¯æ€æ ·çš„ï¼Ÿå¦‚ä½•å®ç°ä¸€ç¨¿å¤šå‘ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸€ä¸ªé€‰é¢˜åœ¨æŠ–éŸ³ã€å°çº¢ä¹¦ã€å…¬ä¼—å·åˆ†åˆ«å‘å¸ƒ" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•å°†æ¯ä¸€ä¸ªå…¬åŸŸå†…å®¹éƒ½è®¾è®¡æˆä¸€ä¸ªç§åŸŸå¼•æµçš„é’©å­ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šåœ¨å†…å®¹æœ«å°¾æä¾›å…è´¹èµ„æ–™ï¼Œå¼•å¯¼åŠ å¾®ä¿¡" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„å†…å®¹åˆ›ä½œèŠ‚å¥æ˜¯æ€æ ·çš„ï¼Ÿå¦‚ä½•ä¿æŒç¨³å®šæ›´æ–°ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ¯å‘¨3æ›´ï¼Œæå‰ä¸€å‘¨å‡†å¤‡å†…å®¹" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•è¿½è¸ªå’Œåˆ†æä¸åŒå¹³å°çš„æµé‡æ•ˆæœï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç”¨UTMå‚æ•°è·Ÿè¸ªæ¥æºï¼Œåˆ†æè½¬åŒ–æ¼æ–—" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„çˆ†æ¬¾å†…å®¹æœ‰ä»€ä¹ˆå…±åŒç‰¹å¾ï¼Ÿå¦‚ä½•å¤åˆ¶æˆåŠŸï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šéƒ½æ˜¯è§£å†³å…·ä½“é—®é¢˜ï¼Œæ ‡é¢˜æœ‰æ•°å­—å’Œæƒ…ç»ªè¯" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•å¤„ç†å¹³å°ç®—æ³•å˜åŒ–å¯¹æµé‡çš„å½±å“ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¤šå¹³å°åˆ†æ•£é£é™©ï¼Œé‡ç‚¹å»ºè®¾ç§åŸŸæµé‡" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„å†…å®¹é€‰é¢˜ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä¿æŒè¯é¢˜çš„æ–°é²œåº¦ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šç»“åˆçƒ­ç‚¹äº‹ä»¶ï¼Œå…³æ³¨ç”¨æˆ·ç—›ç‚¹å˜åŒ–" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•åˆ©ç”¨UGCï¼ˆç”¨æˆ·ç”Ÿæˆå†…å®¹ï¼‰æ¥æ‰©å¤§å½±å“åŠ›ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé¼“åŠ±å­¦å‘˜åˆ†äº«å­¦ä¹ æˆæœï¼Œè½¬å‘ç”¨æˆ·æ•…äº‹" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„å†…å®¹æ ‡é¢˜å’Œå°é¢å›¾è®¾è®¡æœ‰ä»€ä¹ˆè§„å¾‹å’ŒæŠ€å·§ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ ‡é¢˜ç”¨ç–‘é—®å¥å’Œæ•°å­—ï¼Œå°é¢å›¾çªå‡ºäººç‰©è¡¨æƒ…" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•ä¸å…¶ä»–åšä¸»è¿›è¡Œäº’æ¨åˆä½œï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ‰¾äº’è¡¥é¢†åŸŸåšä¸»ï¼Œäº’ç›¸æ¨èï¼Œæ‰©å¤§å—ä¼—åœˆ" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„ç§åŸŸæµé‡è¿è¥ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæœ‹å‹åœˆæ—¥å¸¸åˆ†äº«+ç¾¤ç»„ä¸“ä¸šè®¨è®º+ä¸€å¯¹ä¸€æ·±åº¦æœåŠ¡" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•å¹³è¡¡å†…å®¹çš„å•†ä¸šåŒ–å’Œä»·å€¼è¾“å‡ºï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š8æˆä»·å€¼å†…å®¹ï¼Œ2æˆå•†ä¸šæ¨å¹¿ï¼Œè½¯æ€§æ¤å…¥ä¸ºä¸»" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„å†…å®¹å¤ç”¨å’ŒäºŒæ¬¡ä¼ æ’­ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé•¿è§†é¢‘æ‹†åˆ†çŸ­è§†é¢‘ï¼Œåˆ¶ä½œç²¾åç‰ˆå’Œå®Œæ•´ç‰ˆ" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•åˆ©ç”¨ç›´æ’­æ¥å¢å¼ºç”¨æˆ·ç²˜æ€§å’Œè½¬åŒ–ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå®šæœŸç­”ç–‘ç›´æ’­ï¼Œæ–°è¯¾å‘å¸ƒç›´æ’­ï¼Œé™æ—¶ä¼˜æƒ ç›´æ’­" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„ç¤¾ç¾¤è¿è¥å’Œç”¨æˆ·äº’åŠ¨ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè®¾ç½®è¯é¢˜è®¨è®ºï¼Œè¡¨å½°æ´»è·ƒç”¨æˆ·ï¼Œå®šæœŸçº¿ä¸‹èšä¼š" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ å¦‚ä½•å¤„ç†è´Ÿé¢è¯„è®ºå’Œç”¨æˆ·æŠ•è¯‰ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šåŠæ—¶å›åº”è§£é‡Šï¼Œç§ä¸‹æ²Ÿé€šè§£å†³ï¼Œå…¬å¼€é“æ­‰æ”¹è¿›" },
            { pillar: "æµé‡", title: "æµé‡ (Platform)", description: "ä½ åœ¨å“ªé‡Œæ‰¾åˆ°ä»–ä»¬ï¼Ÿä½ çš„å†…å®¹ä¸åˆ†å‘ç­–ç•¥ã€‚", text: "ä½ çš„æµé‡å˜ç°è·¯å¾„å’Œè½¬åŒ–èŠ‚ç‚¹è®¾è®¡æ˜¯æ€æ ·çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå…³æ³¨â†’ç§ä¿¡â†’å¾®ä¿¡â†’è¯•å¬è¯¾â†’æ­£å¼è¯¾ç¨‹" },

            // ä½“ç³»ç»´åº¦ - 20é¢˜
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„å†…å®¹åˆ›ä½œå’Œå®¢æˆ·æœåŠ¡æµç¨‹ä¸­ï¼Œå“ªäº›éƒ¨åˆ†å¯ä»¥è¢«è‡ªåŠ¨åŒ–æˆ–ç³»ç»ŸåŒ–ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå®¢æˆ·å’¨è¯¢è‡ªåŠ¨å›å¤ï¼Œå†…å®¹å‘å¸ƒå®šæ—¶æ¨é€" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "æè¿°ä½ ä»è·å–ä¸€ä¸ªæ–°ç”¨æˆ·åˆ°å®Œæˆé¦–æ¬¡é”€å”®çš„å®Œæ•´æµç¨‹ã€‚", placeholder: "ä¾‹å¦‚ï¼šå†…å®¹å¸å¼•â†’åŠ å¾®ä¿¡â†’æœ‹å‹åœˆåŸ¹è‚²â†’è¯¾ç¨‹æ¨å¹¿â†’æˆäº¤" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„è´¢åŠ¡æ¨¡å‹æ˜¯æ€æ ·çš„ï¼ŸåŒ…æ‹¬æ”¶å…¥é¢„æµ‹ã€æˆæœ¬ç»“æ„å’Œåˆ©æ¶¦ç›®æ ‡ã€‚", placeholder: "ä¾‹å¦‚ï¼šæœˆæ”¶å…¥ç›®æ ‡10ä¸‡ï¼Œæˆæœ¬30%ï¼Œåˆ©æ¶¦ç‡70%" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•è¿›è¡Œæ—¶é—´ç®¡ç†ï¼Œä»¥å¹³è¡¡å†…å®¹åˆ›ä½œã€äº§å“äº¤ä»˜ã€ç”¨æˆ·è¿è¥å’Œä¸ªäººæˆé•¿ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸Šåˆåˆ›ä½œï¼Œä¸‹åˆè¿è¥ï¼Œæ™šä¸Šå­¦ä¹ " },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "å¦‚æœä»é›¶å¼€å§‹ï¼Œæ ¹æ®ä½ ç°åœ¨çš„è®¤çŸ¥ï¼Œä½ ä¼šåšçš„ä¸‰ä»¶æœ€ä¸ä¸€æ ·çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š1.æ›´æ—©å»ºç«‹ç§åŸŸ 2.ä¸“æ³¨ç»†åˆ†é¢†åŸŸ 3.é‡è§†æ•°æ®åˆ†æ" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„å›¢é˜Ÿç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå„å²—ä½çš„èŒè´£åˆ†å·¥å¦‚ä½•ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæˆ‘è´Ÿè´£å†…å®¹å’Œé”€å”®ï¼ŒåŠ©ç†è´Ÿè´£è¿è¥ï¼Œå¤–åŒ…è§†é¢‘å‰ªè¾‘" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•å»ºç«‹æ ‡å‡†åŒ–çš„ä½œä¸šæµç¨‹æ¥ä¿è¯è´¨é‡å’Œæ•ˆç‡ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šåˆ¶ä½œå†…å®¹åˆ›ä½œSOPï¼Œå®¢æœè¯æœ¯æ ‡å‡†åŒ–" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„æ•°æ®ç»Ÿè®¡å’Œåˆ†æä½“ç³»æ˜¯æ€æ ·çš„ï¼Ÿå¦‚ä½•ç”¨æ•°æ®æŒ‡å¯¼å†³ç­–ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šè·Ÿè¸ªç”¨æˆ·æ¥æºã€è½¬åŒ–ç‡ã€å¤è´­ç‡ç­‰æ ¸å¿ƒæŒ‡æ ‡" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•è®¾è®¡æ¿€åŠ±æœºåˆ¶æ¥æé«˜å›¢é˜Ÿæ•ˆç‡å’Œç”¨æˆ·æ»¡æ„åº¦ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæŒ‰ä¸šç»©ææˆï¼Œç”¨æˆ·å¥½è¯„å¥–åŠ±" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„é£é™©ç®¡ç†å’Œåº”æ€¥é¢„æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå¹³å°å°å·çš„å¤‡ç”¨æ–¹æ¡ˆï¼Œç°é‡‘æµä¸è¶³çš„åº”å¯¹æªæ–½" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•æŒç»­å­¦ä¹ å’Œæ›´æ–°è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ¯æœˆè¯»2æœ¬ä¸“ä¸šä¹¦ç±ï¼Œå‚åŠ è¡Œä¸šä¼šè®®" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„å†…å®¹è´¨é‡æ§åˆ¶ä½“ç³»æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå†…å®¹å‘å¸ƒå‰è‡ªæŸ¥æ¸…å•ï¼Œå®šæœŸå›é¡¾æ•°æ®åé¦ˆ" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•è®¾è®¡å’Œç»´æŠ¤å®¢æˆ·å…³ç³»ç®¡ç†ç³»ç»Ÿï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šExcelè®°å½•å®¢æˆ·ä¿¡æ¯ï¼Œå®šæœŸå›è®¿ç»´æŠ¤å…³ç³»" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„ä¾›åº”é“¾å’Œåˆä½œä¼™ä¼´ç®¡ç†æ˜¯æ€æ ·çš„ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä¸è®¾è®¡å¸ˆã€ç¨‹åºå‘˜å»ºç«‹é•¿æœŸåˆä½œå…³ç³»" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•è¿›è¡Œç«äº‰å¯¹æ‰‹åˆ†æå’Œå¸‚åœºè°ƒç ”ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ¯æœˆåˆ†æåŒè¡Œçˆ†æ¬¾å†…å®¹ï¼Œå…³æ³¨è¡Œä¸šæŠ¥å‘Š" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„ä¸šåŠ¡æ‰©å¼ è®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°è§„æ¨¡åŒ–å¢é•¿ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šå…ˆåšæ·±ä¸€ä¸ªé¢†åŸŸï¼Œå†æ¨ªå‘æ‹“å±•ç›¸å…³é¢†åŸŸ" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•è®¾è®¡é€€è´¹å’Œçº çº·å¤„ç†æµç¨‹ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼š7å¤©æ— ç†ç”±é€€è´¹ï¼Œä¸“äººå¤„ç†çº çº·é—®é¢˜" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„çŸ¥è¯†äº§æƒä¿æŠ¤ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šæ ¸å¿ƒå†…å®¹åŠ æ°´å°ï¼Œé‡è¦æ–¹æ³•ç”³è¯·å•†æ ‡" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ å¦‚ä½•å»ºç«‹ä¸ªäººå“ç‰Œçš„æŠ¤åŸæ²³å’Œç«äº‰ä¼˜åŠ¿ï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šé€šè¿‡æŒç»­è¾“å‡ºå»ºç«‹æƒå¨ï¼Œç”¨ä¼˜è´¨æœåŠ¡å»ºç«‹å£ç¢‘" },
            { pillar: "ä½“ç³»", title: "ä½“ç³» (Process)", description: "ä½ å¦‚ä½•äº¤ä»˜ä¸å¢é•¿ï¼Ÿä¸šåŠ¡èƒŒåçš„ç³»ç»Ÿã€‚", text: "ä½ çš„é•¿æœŸå•†ä¸šæ¨¡å¼æ¼”è¿›è§„åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ", placeholder: "ä¾‹å¦‚ï¼šä»ä¸ªäººæœåŠ¡åˆ°å›¢é˜ŸåŒ–ï¼Œä»è¯¾ç¨‹åˆ°å¹³å°åŒ–è¿è¥" }
        ];

        let currentUser = null;
        let currentQuestionIndex = 0;
        let answers = {};
        let saveTimer = null;

        // ç­”é¢˜è´¨é‡è¿½è¸ª
        let testStartTime = null;
        let questionStartTime = null;
        let qualityScore = 100; // åˆå§‹è´¨é‡åˆ†æ•°100åˆ†
        let qualityIssues = []; // è®°å½•è´¨é‡é—®é¢˜
        let consecutiveWarnings = 0; // è¿ç»­è­¦å‘Šæ¬¡æ•°
        let identicalAnswerCount = 0; // ä¸å»ºè®®å®Œå…¨ä¸€è‡´çš„ç­”æ¡ˆæ•°

        // åŠ¨æ€è´¨é‡æ ‡å‡†ï¼ˆä»é…ç½®æ–‡ä»¶è¯»å–ï¼‰
        function getQualityStandards() {
            const config = window.QUALITY_CONFIG || {
                minTotalTimeMinutes: 30,
                minTimePerQuestionSeconds: 10,
                maxIdenticalAnswers: 0,
                maxSimilarityThreshold: 0.8,
                minQualityScore: 60,
                minCompletionRate: 0.8,
                maxConsecutiveWarnings: 3
            };

            return {
                minTimePerQuestion: config.minTimePerQuestionSeconds,
                minTotalTime: config.minTotalTimeMinutes * 60, // è½¬æ¢ä¸ºç§’
                maxIdenticalAnswers: config.maxIdenticalAnswers,
                maxSimilarityThreshold: config.maxSimilarityThreshold,
                minQualityScore: config.minQualityScore,
                minCompletionRate: config.minCompletionRate,
                maxConsecutiveWarnings: config.maxConsecutiveWarnings
            };
        }

        // åœ¨é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå½“å‰é…ç½®
        document.addEventListener('DOMContentLoaded', function() {
            const config = window.QUALITY_CONFIG;
            if (config) {
                console.log(`ğŸ”§ å½“å‰è´¨é‡æ£€æµ‹æ¨¡å¼: ${config.name}`);
                console.log(`ğŸ“Š å‚æ•°é…ç½®:`, {
                    æ€»æ—¶é•¿: `${config.minTotalTimeMinutes}åˆ†é’Ÿ`,
                    å•é¢˜æ—¶é•¿: `${config.minTimePerQuestionSeconds}ç§’`,
                    å…è®¸ç›¸åŒ: `${config.maxIdenticalAnswers}é¢˜`,
                    ç›¸ä¼¼åº¦: `${(config.maxSimilarityThreshold * 100)}%`
                });

                // è°ƒè¯•æ¨¡å¼ä¸å†æ˜¾ç¤ºç”¨æˆ·æç¤º
            }
        });

        // ç‰¹æ®Šæ¼”ç¤ºè´¦å·å¤„ç†
        function handleSpecialDemoAccount(phone, email, userMode) {
            console.log('æ£€æµ‹åˆ°æ¼”ç¤ºè´¦å·ï¼Œå¯ç”¨ç‰¹æ®Šå¤„ç†');

            // ä¸ºæ¼”ç¤ºè´¦å·åˆ›å»ºé¢„è®¾ç”¨æˆ·ä¿¡æ¯
            currentUser = {
                phone: phone,
                email: email,
                name: 'æ¼”ç¤ºç”¨æˆ·',
                age: '30-40',
                gender: 'other',
                registrationTime: new Date().toISOString(),
                isDemo: true // æ ‡è®°ä¸ºæ¼”ç¤ºè´¦å·
            };

            // æ˜¾ç¤ºæ¼”ç¤ºè´¦å·ä¸“ç”¨æç¤º
            const demoTip = document.createElement('div');
            demoTip.style.cssText = `
                position: fixed; top: 20px; left: 20px; right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white; padding: 1rem; border-radius: 8px;
                z-index: 9999; text-align: center; font-weight: bold;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            `;
            demoTip.innerHTML = `
                <div style="font-size: 1.1rem; margin-bottom: 0.5rem;">ğŸ¯ æ¬¢è¿ä½“éªŒæ¼”ç¤ºæ¨¡å¼</div>
                <div style="font-size: 0.9rem; opacity: 0.9;">
                    æ‚¨æ­£åœ¨ä½¿ç”¨æ¼”ç¤ºè´¦å·ï¼Œæ‰€æœ‰åŠŸèƒ½å‡å¯æ­£å¸¸ä½“éªŒï¼Œæ•°æ®å°†ç”¨äºæ¼”ç¤ºç›®çš„
                </div>
                <div style="margin-top: 0.8rem;">
                    <button onclick="this.parentElement.parentElement.remove(); window.showStartScreen();"
                            style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3);
                                   color: white; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">
                        å¼€å§‹æ¼”ç¤ºä½“éªŒ
                    </button>
                </div>
            `;
            document.body.appendChild(demoTip);

            // ä¿å­˜æ¼”ç¤ºç”¨æˆ·ä¿¡æ¯
            localStorage.setItem(`user_${phone}`, JSON.stringify(currentUser));

            // è‡ªåŠ¨è·³è½¬åˆ°å¼€å§‹ç•Œé¢ï¼ˆå»¶è¿Ÿ3ç§’æˆ–ç”¨æˆ·ç‚¹å‡»ï¼‰
            setTimeout(() => {
                if (demoTip.parentNode) {
                    demoTip.remove();
                    window.showStartScreen();
                }
            }, 5000);
        }

        // ä¿å­˜ç”¨æˆ·æ³¨å†Œä¿¡æ¯åˆ°åç«¯
        async function saveUserRegistration(userInfo) {
            try {
                // æ£€æŸ¥æ˜¯å¦æœ‰åç«¯æœåŠ¡å¯ç”¨
                const BACKEND_URL = 'http://localhost:3000';

                const response = await fetch(`${BACKEND_URL}/api/user/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(userInfo)
                });

                if (response.ok) {
                    const data = await response.json();
                    console.log('âœ… ç”¨æˆ·æ³¨å†Œä¿¡æ¯å·²ä¿å­˜åˆ°æœåŠ¡å™¨:', data.data.fileName);
                } else {
                    console.log('âš ï¸ åç«¯æœåŠ¡ä¸å¯ç”¨ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°');
                }

            } catch (error) {
                console.log('âš ï¸ åç«¯æœåŠ¡ä¸å¯ç”¨ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°:', error.message);
                // ä¸æŠ›å‡ºé”™è¯¯ï¼Œç»§ç»­æµç¨‹
            }
        }

        // ä¿å­˜ç”¨æˆ·æµ‹è¯„æ•°æ®åˆ°åç«¯
        async function saveUserAssessment(userInfo, answers, analysisResult) {
            try {
                const BACKEND_URL = 'http://localhost:3000';

                const response = await fetch(`${BACKEND_URL}/api/user/assessment`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        userInfo,
                        answers,
                        analysisResult
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    console.log('âœ… ç”¨æˆ·æµ‹è¯„æ•°æ®å·²ä¿å­˜åˆ°æœåŠ¡å™¨:', data.data.fileName);
                    console.log('ğŸ“Š æµ‹è¯„ç»Ÿè®¡:', data.data.stats);
                    return data.data;
                } else {
                    console.log('âš ï¸ åç«¯æœåŠ¡ä¸å¯ç”¨ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°');
                    return null;
                }

            } catch (error) {
                console.log('âš ï¸ åç«¯æœåŠ¡ä¸å¯ç”¨ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°:', error.message);
                return null;
            }
        }

        // æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹æ®Šæ¼”ç¤ºè´¦å·
        function isSpecialDemoAccount(phone) {
            return phone === '13917895758';
        }

        // ç”¨æˆ·è®¤è¯å¤„ç†å®ç°
        window.handleUserAuthImpl = async function() {
            console.log('handleUserAuthImpl called');

            const userMode = document.querySelector('input[name="userMode"]:checked').value;
            const phone = document.getElementById('userPhone').value.trim();
            const email = document.getElementById('userEmail').value.trim();

            console.log('userMode:', userMode, 'phone:', phone, 'email:', email);

            if (!phone || !email) {
                alert('è¯·å¡«å†™å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯');
                return;
            }

            // ç‰¹æ®Šæ¼”ç¤ºè´¦å·å¤„ç†
            if (isSpecialDemoAccount(phone)) {
                handleSpecialDemoAccount(phone, email, userMode);
                return;
            }

            if (userMode === 'new') {
                const name = document.getElementById('userName').value.trim();
                const age = document.getElementById('userAge').value;
                const gender = document.querySelector('input[name="gender"]:checked')?.value;

                if (!name || !age || !gender) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯');
                    return;
                }

                // æ–°ç”¨æˆ·æ³¨å†Œ
                currentUser = {
                    phone,
                    email,
                    name,
                    age,
                    gender,
                    registrationTime: new Date().toISOString()
                };

                // ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æœ¬åœ°å­˜å‚¨
                localStorage.setItem(`user_${phone}`, JSON.stringify(currentUser));

                // è°ƒç”¨åç«¯ä¿å­˜ç”¨æˆ·æ³¨å†Œä¿¡æ¯
                await saveUserRegistration(currentUser);

            } else {
                // è€ç”¨æˆ·ç™»å½•
                const userData = localStorage.getItem(`user_${phone}`);
                if (!userData) {
                    alert('æœªæ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·é€‰æ‹©æ–°ç”¨æˆ·æ³¨å†Œ');
                    return;
                }

                currentUser = JSON.parse(userData);

                // éªŒè¯é‚®ç®±
                if (currentUser.email !== email) {
                    alert('é‚®ç®±éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥');
                    return;
                }

                // åŠ è½½ä¹‹å‰çš„ç­”æ¡ˆ
                const savedAnswers = localStorage.getItem(`answers_${phone}`);
                if (savedAnswers) {
                    answers = JSON.parse(savedAnswers);
                    const progress = Object.keys(answers).length;
                    if (progress > 0) {
                        // æ˜¾ç¤ºé€‰æ‹©æ¨¡æ€æ¡†
                        showChoiceModal(progress, phone);
                        return; // ä¸ç»§ç»­æ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·é€‰æ‹©
                    }
                }
            }

            window.showStartScreen();
        }

        function showChoiceModal(progress, phone) {
            const maxAnsweredIndex = Math.max(...Object.keys(answers).map(Number));
            const currentPillar = Math.floor(maxAnsweredIndex / 20);
            const pillarNames = ['å®šä½', 'ç”¨æˆ·', 'äº§å“', 'æµé‡', 'ä½“ç³»'];

            // è·å–ä¿å­˜æ—¶é—´
            const lastSaveTime = localStorage.getItem(`lastSave_${phone}`);
            const saveTimeText = lastSaveTime ?
                new Date(lastSaveTime).toLocaleString('zh-CN') : 'æœªçŸ¥';

            document.getElementById('savedProgressText').textContent =
                `ç¬¬${maxAnsweredIndex + 1}é¢˜ (${pillarNames[currentPillar]}ç»´åº¦)ï¼Œå…±å®Œæˆ${progress}é¢˜`;
            document.getElementById('savedTimeText').textContent = saveTimeText;
            document.getElementById('choiceModal').classList.add('show');
        }

        function continueAssessment() {
            document.getElementById('choiceModal').classList.remove('show');
            const maxAnsweredIndex = Math.max(...Object.keys(answers).map(Number));
            currentQuestionIndex = maxAnsweredIndex + 1;
            if (currentQuestionIndex >= questions.length) {
                currentQuestionIndex = questions.length - 1;
            }
            window.showStartScreen();
        }

        function restartFromBeginning() {
            document.getElementById('choiceModal').classList.remove('show');
            if (currentUser) {
                localStorage.removeItem(`answers_${currentUser.phone}`);
                localStorage.removeItem(`lastSave_${currentUser.phone}`);
            }
            answers = {};
            currentQuestionIndex = 0;
            window.showStartScreen();
        }

        // âœ… [Task #004] Service Worker Registration for offline capability
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('âœ… SW registered: ', registration);
                        // âœ… [Task #004] Notify that SW is controlling the page
                        if (registration.controlling) {
                            console.log('âœ… SW is controlling the page.');
                        }
                    })
                    .catch(error => {
                        console.error('âŒ SW registration failed: ', error);
                    });
            });
        } else {
            console.log('âš ï¸ Service Worker not supported in this browser.');
        }
    }

        window.showUserAuthImpl = function() {
            document.getElementById('loginScreen').classList.add('active');
            document.getElementById('startScreen').classList.remove('active');
        }

        window.showStartScreen = function() {
            document.getElementById('loginScreen').classList.remove('active');
            document.getElementById('startScreen').classList.add('active');

            // æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
            document.getElementById('userInfo').innerHTML = `
                <strong>ç”¨æˆ·ä¿¡æ¯ï¼š</strong> ${currentUser.name} (${currentUser.age}) |
                æ‰‹æœºï¼š${currentUser.phone} | é‚®ç®±ï¼š${currentUser.email}
            `;
        }

        // âœ… [Task #004] Service Worker Registration for offline capability
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('âœ… SW registered: ', registration);
                        // âœ… [Task #004] Notify that SW is controlling the page
                        if (registration.controlling) {
                            console.log('âœ… SW is controlling the page.');
                        }
                    })
                    .catch(error => {
                        console.error('âŒ SW registration failed: ', error);
                    });
            });
        } else {
            console.log('âš ï¸ Service Worker not supported in this browser.');
        }

        // ç”¨æˆ·æ¨¡å¼åˆ‡æ¢
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing user mode switching...');

            const userModeRadios = document.querySelectorAll('input[name="userMode"]');
            const newUserFields = document.getElementById('newUserFields');

            console.log('userModeRadios found:', userModeRadios.length);
            console.log('newUserFields element:', newUserFields);

            // åˆå§‹åŒ–æ˜¾ç¤ºçŠ¶æ€
            const initialMode = document.querySelector('input[name="userMode"]:checked');
            console.log('Initial mode element:', initialMode);

            if (initialMode) {
                console.log('Initial mode value:', initialMode.value);
                if (initialMode.value === 'new') {
                    newUserFields.style.display = 'block';
                    console.log('Set newUserFields to block');
                } else {
                    newUserFields.style.display = 'none';
                    console.log('Set newUserFields to none');
                }
            }

            userModeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    console.log('Radio changed to:', this.value);
                    if (this.value === 'new') {
                        newUserFields.style.display = 'block';
                        console.log('Changed to new user - showing fields');
                    } else {
                        newUserFields.style.display = 'none';
                        console.log('Changed to returning user - hiding fields');
                    }
                });
            });
        });

        window.confirmStartAssessmentImpl = function() {
            if (confirm('æˆ‘ç¡®è®¤å·²ä»”ç»†é˜…è¯»ç­”é¢˜è¦æ±‚ï¼Œå°†è®¤çœŸå®Œæˆæ¯ä¸€ä¸ªé—®é¢˜ï¼Œç¡®ä¿è·å¾—é«˜è´¨é‡çš„åˆ†ææŠ¥å‘Šã€‚')) {
                startAssessment();
            }
        }

        function startAssessment() {
            testStartTime = Date.now(); // è®°å½•å¼€å§‹æ—¶é—´
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('questionsContainer').style.display = 'block';
            showTimer(); // æ˜¾ç¤ºè®¡æ—¶å™¨
            showQuestion(currentQuestionIndex);
        }

        function showTimer() {
            const timer = document.createElement('div');
            timer.id = 'qualityTimer';
            timer.className = 'quality-timer';
            timer.textContent = '00:00';
            document.body.appendChild(timer);

            setInterval(() => {
                if (testStartTime) {
                    const elapsed = Math.floor((Date.now() - testStartTime) / 1000);
                    const minutes = Math.floor(elapsed / 60);
                    const seconds = elapsed % 60;
                    const timerEl = document.getElementById('qualityTimer');
                    if (timerEl) {
                        timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                        // ä½¿ç”¨åŠ¨æ€é…ç½®æ£€æŸ¥æ—¶é—´
                        const standards = getQualityStandards();
                        if (elapsed > 0 && elapsed < standards.minTotalTime) {
                            timerEl.className = 'quality-timer warning';
                        } else {
                            timerEl.className = 'quality-timer';
                        }
                    }
                }
            }, 1000);
        }

        // è®¡ç®—æ–‡æœ¬ç›¸ä¼¼åº¦ï¼ˆç®€å•ç‰ˆæœ¬ï¼‰
        function calculateSimilarity(text1, text2) {
            if (!text1 || !text2) return 0;

            text1 = text1.toLowerCase().replace(/[^\w\s]/g, '');
            text2 = text2.toLowerCase().replace(/[^\w\s]/g, '');

            const words1 = text1.split(/\s+/);
            const words2 = text2.split(/\s+/);

            let common = 0;
            words1.forEach(word => {
                if (word.length > 2 && words2.includes(word)) {
                    common++;
                }
            });

            return common / Math.max(words1.length, words2.length);
        }

        function checkAnswerQuality(questionIndex, answer, timeSpent) {
            const question = questions[questionIndex];
            const issues = [];
            const standards = getQualityStandards(); // ä½¿ç”¨åŠ¨æ€é…ç½®

            // 1. æ£€æŸ¥ç­”é¢˜æ—¶é—´
            if (timeSpent < standards.minTimePerQuestion) {
                issues.push('ç­”é¢˜æ—¶é—´è¿‡çŸ­');
                qualityScore -= 5;
            }

            // 2. æ£€æŸ¥ä¸ç¤ºä¾‹ç›¸ä¼¼åº¦
            const similarity = calculateSimilarity(answer, question.placeholder);
            if (similarity > standards.maxSimilarityThreshold) {
                issues.push('å›ç­”ä¸ç¤ºä¾‹è¿‡äºç›¸ä¼¼');
                qualityScore -= 10;

                // æ£€æŸ¥æ˜¯å¦å®Œå…¨ä¸€è‡´
                if (similarity >= 1.0 || answer.trim() === question.placeholder.trim()) {
                    identicalAnswerCount++;
                    if (identicalAnswerCount > standards.maxIdenticalAnswers) {
                        issues.push('å®Œå…¨ç›¸åŒç­”æ¡ˆè¿‡å¤š');
                        qualityScore -= 15;
                    }
                }
            }

            // 3. æ£€æŸ¥å›ç­”é•¿åº¦
            if (answer.length < 20) {
                issues.push('å›ç­”è¿‡äºç®€çŸ­');
                qualityScore -= 3;
            }

            // 4. æ£€æŸ¥æ˜¯å¦ä¸ºç©ºæˆ–æ— æ„ä¹‰å›ç­”
            if (!answer.trim() || answer.trim().length < 5) {
                issues.push('å›ç­”æ— æ•ˆ');
                qualityScore -= 15;
            }

            // è®°å½•è´¨é‡é—®é¢˜
            if (issues.length > 0) {
                qualityIssues.push({
                    questionIndex,
                    issues,
                    timeSpent,
                    similarity,
                    timestamp: Date.now()
                });

                consecutiveWarnings++;
                showQualityWarning(issues, consecutiveWarnings);
            } else {
                consecutiveWarnings = 0; // é‡ç½®è¿ç»­è­¦å‘Šè®¡æ•°
            }

            // ä¿å­˜è´¨é‡æ•°æ®
            localStorage.setItem(`qualityScore_${currentUser.phone}`, qualityScore);
            localStorage.setItem(`qualityIssues_${currentUser.phone}`, JSON.stringify(qualityIssues));
            localStorage.setItem(`identicalCount_${currentUser.phone}`, identicalAnswerCount);
        }

        function showQualityWarning(issues, consecutiveCount) {
            const standards = getQualityStandards(); // ä½¿ç”¨åŠ¨æ€é…ç½®
            const warningDiv = document.createElement('div');
            warningDiv.className = consecutiveCount >= standards.maxConsecutiveWarnings ?
                'quality-warning severe' : 'quality-warning';

            let warningText = '';
            if (consecutiveCount >= standards.maxConsecutiveWarnings) {
                warningText = `
                    <h4>âš ï¸ ä¸¥é‡è­¦å‘Š</h4>
                    <p>æ‚¨å·²è¿ç»­${consecutiveCount}æ¬¡ä½è´¨é‡ä½œç­”ï¼Œè¿™å°†ä¸¥é‡å½±å“åˆ†ææŠ¥å‘Šçš„å‡†ç¡®æ€§ã€‚</p>
                    <p><strong>è¯·è®¤çœŸå¯¹å¾…æ¯ä¸ªé—®é¢˜ï¼ŒåŸºäºçœŸå®æƒ…å†µè¯¦ç»†å›ç­”ã€‚</strong></p>
                `;
            } else {
                warningText = `
                    <h4>ğŸ’¡ ç­”é¢˜æé†’</h4>
                    <p>æ£€æµ‹åˆ°ä»¥ä¸‹é—®é¢˜ï¼š${issues.join('ã€')}</p>
                    <p>å»ºè®®ï¼šèŠ±æ›´å¤šæ—¶é—´æ€è€ƒï¼Œç”¨è‡ªå·±çš„è¯­è¨€è¯¦ç»†æè¿°å®é™…æƒ…å†µã€‚</p>
                `;
            }

            warningDiv.innerHTML = warningText;

            // æ’å…¥è­¦å‘Šåˆ°å½“å‰é—®é¢˜å¡ç‰‡
            const currentCard = document.querySelector('.card.active');
            if (currentCard) {
                const existingWarning = currentCard.querySelector('.quality-warning');
                if (existingWarning) {
                    existingWarning.remove();
                }

                const navigation = currentCard.querySelector('.navigation');
                navigation.parentNode.insertBefore(warningDiv, navigation);

                // 3ç§’åè‡ªåŠ¨éšè—ï¼ˆé™¤éæ˜¯ä¸¥é‡è­¦å‘Šï¼‰
                if (consecutiveCount < standards.maxConsecutiveWarnings) {
                    setTimeout(() => {
                        if (warningDiv.parentNode) {
                            warningDiv.remove();
                        }
                    }, 5000);
                }
            }
        }

        function showQuestion(index) {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            if (index >= questions.length) {
                completeAssessment();
                return;
            }

            const question = questions[index];

            // è®°å½•å½“å‰é¢˜ç›®å¼€å§‹æ—¶é—´
            questionStartTime = Date.now();

            const questionCard = document.createElement('div');
            questionCard.className = 'card active';
            questionCard.innerHTML = `
                <div class="pillar-indicator">
                    <div class="pillar-title">${question.title}</div>
                    <div class="pillar-description">${question.description}</div>
                </div>
                <div class="question-number">é—®é¢˜ ${index + 1} / ${questions.length}</div>
                <div class="question-text">${question.text}</div>
                <textarea
                    class="answer-input"
                    placeholder="${question.placeholder}"
                    id="answer-${index}"
                >${answers[index] || ''}</textarea>
                <div class="save-indicator" id="saveIndicator">âœ“ å·²è‡ªåŠ¨ä¿å­˜</div>

                <div class="keyboard-hints">
                    <h4>ğŸ’¡ å¿«æ·é”®æç¤º</h4>
                    <div class="hint-item">
                        <span class="hint-key">Tab</span>
                        <span>å¿«é€Ÿå¡«å…¥å»ºè®®å†…å®¹</span>
                    </div>
                    <div class="hint-item">
                        <span class="hint-key">Enter</span>
                        <span>ä¸‹ä¸€é¢˜ (Ctrl+Enter ä¹Ÿå¯ä»¥)</span>
                    </div>
                </div>

                <div class="navigation">
                    <button onclick="previousQuestion()" class="btn btn-secondary" ${index === 0 ? 'disabled' : ''}>
                        ä¸Šä¸€é¢˜
                    </button>
                    <button onclick="saveAndExit()" class="btn btn-warning">
                        ä¿å­˜æš‚é€€
                    </button>

                    <!-- ç­”é¢˜è´¨é‡å®æ—¶æŒ‡ç¤ºå™¨ -->
                    <div id="answerQualityIndicator" style="
                        display: none; padding: 0.5rem 1rem; border-radius: 20px;
                        font-size: 0.85rem; font-weight: bold; margin: 0 0.5rem;
                        transition: all 0.3s ease;
                    "></div>

                    <button onclick="nextQuestion()" class="btn btn-primary" id="nextBtn">
                        ${index === questions.length - 1 ? 'å®Œæˆè¯„ä¼°' : 'ä¸‹ä¸€é¢˜'}
                    </button>
                </div>
            `;

            container.appendChild(questionCard);

            // ä¸ºå½“å‰é¢˜ç›®çš„è¾“å…¥æ¡†æ·»åŠ å®æ—¶è´¨é‡æ£€æµ‹
            const textarea = document.getElementById(`answer-${index}`);
            if (textarea) {
                // ç§»é™¤ä¹‹å‰çš„äº‹ä»¶ç›‘å¬å™¨
                textarea.removeEventListener('input', updateAnswerQualityIndicator);

                // æ·»åŠ æ–°çš„äº‹ä»¶ç›‘å¬å™¨
                textarea.addEventListener('input', function() {
                    updateAnswerQualityIndicator(index, this.value);
                });

                // åˆå§‹æ£€æŸ¥
                updateAnswerQualityIndicator(index, textarea.value);
            }

            // æ›´æ–°è¿›åº¦
            updateProgress(index);

            // è‡ªåŠ¨ä¿å­˜ç­”æ¡ˆ
            textarea.addEventListener('input', () => {
                answers[index] = textarea.value;
                autoSave();
            });

            // é”®ç›˜å¿«æ·é”®åŠŸèƒ½
            textarea.addEventListener('keydown', (e) => {
                // Tabé”®ï¼šå¡«å…¥å»ºè®®å†…å®¹
                if (e.key === 'Tab' && textarea.value.trim() === '') {
                    e.preventDefault();
                    textarea.value = textarea.placeholder;
                    answers[index] = textarea.value;
                    autoSave();

                    // é€‰ä¸­æ–‡æœ¬ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¿®æ”¹
                    textarea.select();
                }

                // Enteré”®æˆ–Ctrl+Enterï¼šä¸‹ä¸€é¢˜
                if (e.key === 'Enter' && (e.ctrlKey || !e.shiftKey)) {
                    e.preventDefault();
                    const nextBtn = document.getElementById('nextBtn');
                    if (nextBtn && !nextBtn.disabled) {
                        nextQuestion();
                    }
                }
            });

            // ç„¦ç‚¹åˆ°è¾“å…¥æ¡†
            textarea.focus();
        }

        function autoSave() {
            // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
            if (saveTimer) {
                clearTimeout(saveTimer);
            }

            // è®¾ç½®æ–°çš„å®šæ—¶å™¨ï¼Œ2ç§’åä¿å­˜
            saveTimer = setTimeout(() => {
                if (currentUser) {
                    localStorage.setItem(`answers_${currentUser.phone}`, JSON.stringify(answers));
                    localStorage.setItem(`lastSave_${currentUser.phone}`, new Date().toISOString());
                    showSaveIndicator();
                }
            }, 2000);
        }

        function showSaveIndicator() {
            const indicator = document.getElementById('saveIndicator');
            if (indicator) {
                indicator.classList.add('show');
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 2000);
            }
        }

        function saveAndExit() {
            const textarea = document.getElementById(`answer-${currentQuestionIndex}`);
            if (textarea) {
                answers[currentQuestionIndex] = textarea.value;
            }

            // ç«‹å³ä¿å­˜
            if (currentUser) {
                localStorage.setItem(`answers_${currentUser.phone}`, JSON.stringify(answers));
                alert('æ‚¨çš„ç­”æ¡ˆå·²ä¿å­˜ã€‚ä¸‹æ¬¡ç™»å½•æ—¶å¯ä»¥ç»§ç»­å®Œæˆå‰©ä½™é—®é¢˜ã€‚');
                window.location.href = '../baiwen.html';
            }
        }

        // æ›´æ–°ç­”é¢˜è´¨é‡æŒ‡ç¤ºå™¨
        function updateAnswerQualityIndicator(questionIndex, answer) {
            const indicator = document.getElementById('answerQualityIndicator');
            if (!indicator) return;

            const qualityCheck = checkCurrentAnswerQuality(questionIndex, answer);

            if (qualityCheck.isValid) {
                // ç­”æ¡ˆè´¨é‡è‰¯å¥½
                indicator.style.display = 'inline-block';
                indicator.style.background = '#28a745';
                indicator.style.color = 'white';
                indicator.innerHTML = 'âœ… ç­”æ¡ˆè´¨é‡è‰¯å¥½';
            } else if (qualityCheck.severity === 'error') {
                // é”™è¯¯çº§åˆ«ï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰
                indicator.style.display = 'inline-block';
                indicator.style.background = '#dc3545';
                indicator.style.color = 'white';
                indicator.innerHTML = 'âŒ ' + qualityCheck.issues[0];
            } else if (qualityCheck.severity === 'warning') {
                // è­¦å‘Šçº§åˆ«ï¼ˆå»ºè®®ä¿®æ”¹ï¼‰
                indicator.style.display = 'inline-block';
                indicator.style.background = '#ffc107';
                indicator.style.color = '#333';
                indicator.innerHTML = 'âš ï¸ ' + qualityCheck.issues[0];
            } else {
                // éšè—æŒ‡ç¤ºå™¨
                indicator.style.display = 'none';
            }
        }

        // è®¡ç®—æ–‡æœ¬ç›¸ä¼¼åº¦ï¼ˆç®€å•ç®—æ³•ï¼‰
        function calculateSimilarity(text1, text2) {
            if (!text1 || !text2) return 0;

            const str1 = text1.toLowerCase().trim();
            const str2 = text2.toLowerCase().trim();

            if (str1 === str2) return 1;

            // è®¡ç®—é‡å å­—ç¬¦æ¯”ä¾‹
            const longer = str1.length > str2.length ? str1 : str2;
            const shorter = str1.length > str2.length ? str2 : str1;

            if (longer.length === 0) return 1;

            let matches = 0;
            for (let i = 0; i < shorter.length; i++) {
                if (longer.includes(shorter[i])) {
                    matches++;
                }
            }

            return matches / longer.length;
        }

        // æ£€æŸ¥å½“å‰ç­”æ¡ˆè´¨é‡
        function checkCurrentAnswerQuality(questionIndex, answer) {
            const issues = [];

            // 1. æ£€æŸ¥æ˜¯å¦ä¸ºç©º
            if (!answer || answer.trim().length === 0) {
                issues.push('è¯·å¡«å†™ç­”æ¡ˆåå†ç»§ç»­');
                return { isValid: false, issues, severity: 'error' };
            }

            // 2. æ£€æŸ¥ç­”æ¡ˆé•¿åº¦
            if (answer.trim().length < 10) {
                issues.push('ç­”æ¡ˆè¿‡äºç®€çŸ­ï¼Œå»ºè®®è‡³å°‘å¡«å†™10ä¸ªå­—ç¬¦');
                return { isValid: false, issues, severity: 'warning' };
            }

            // 3. æ£€æŸ¥æ˜¯å¦ä¸ç¤ºä¾‹è¿‡äºç›¸ä¼¼
            const question = questions[questionIndex];
            const similarity = calculateSimilarity(answer, question.placeholder);
            if (similarity > 0.8) {
                issues.push('è¯·ç”¨è‡ªå·±çš„è¯­è¨€å›ç­”ï¼Œä¸è¦ç›´æ¥å¤åˆ¶ç¤ºä¾‹å†…å®¹');
                return { isValid: false, issues, severity: 'warning' };
            }

            // 4. æ£€æŸ¥æ˜¯å¦ä¸ºæ— æ„ä¹‰å†…å®¹
            const meaninglessPatterns = [
                /^[.\-_=+*#@!?]{3,}$/,  // åªæœ‰ç¬¦å·
                /^[0-9]{3,}$/,          // åªæœ‰æ•°å­—
                /^[a-zA-Z]{1,3}$/,      // å¾ˆçŸ­çš„è‹±æ–‡
                /^(test|æµ‹è¯•|111|222|333|aaa|bbb|xxx)$/i, // å¸¸è§æµ‹è¯•å†…å®¹
                /^(.)\1{5,}$/           // é‡å¤å­—ç¬¦
            ];

            for (let pattern of meaninglessPatterns) {
                if (pattern.test(answer.trim())) {
                    issues.push('è¯·è®¤çœŸå¡«å†™æœ‰æ„ä¹‰çš„ç­”æ¡ˆ');
                    return { isValid: false, issues, severity: 'warning' };
                }
            }

            return { isValid: true, issues: [], severity: 'none' };
        }

        // æ˜¾ç¤ºç­”é¢˜è´¨é‡æç¤º
        function showAnswerQualityPrompt(issues, severity, onConfirm, onCancel) {
            // ç§»é™¤å·²å­˜åœ¨çš„æç¤º
            const existingPrompt = document.getElementById('qualityPrompt');
            if (existingPrompt) {
                existingPrompt.remove();
            }

            const promptDiv = document.createElement('div');
            promptDiv.id = 'qualityPrompt';
            promptDiv.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.6); display: flex; justify-content: center;
                align-items: center; z-index: 10000;
            `;

            const severityConfig = {
                error: {
                    color: '#dc3545',
                    icon: 'âŒ',
                    title: 'è¯·å®Œå–„ç­”æ¡ˆ',
                    confirmText: 'æˆ‘çŸ¥é“äº†',
                    showCancel: false
                },
                warning: {
                    color: '#ffc107',
                    icon: 'âš ï¸',
                    title: 'ç­”é¢˜è´¨é‡æé†’',
                    confirmText: 'ç¡®è®¤, ç»§ç»­',
                    showCancel: true
                }
            };

            const config = severityConfig[severity] || severityConfig.warning;

            promptDiv.innerHTML = `
                <div style="background: white; border-radius: 15px; padding: 2rem; max-width: 500px;
                           margin: 2rem; box-shadow: 0 20px 40px rgba(0,0,0,0.3); text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">${config.icon}</div>
                    <h3 style="color: ${config.color}; margin-bottom: 1rem;">${config.title}</h3>

                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0; text-align: left;">
                        ${issues.map(issue => `<p style="margin: 0.5rem 0; color: #333;">â€¢ ${issue}</p>`).join('')}
                    </div>

                    <div style="background: #e3f2fd; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <h4 style="color: #1976d2; margin-bottom: 0.5rem;">ğŸ’¡ ç­”é¢˜å»ºè®®</h4>
                        <ul style="text-align: left; margin: 0; padding-left: 1.5rem; color: #333;">
                            <li>è¯·åŸºäºæ‚¨çš„çœŸå®æƒ…å†µå›ç­”</li>
                            <li>æä¾›å…·ä½“çš„æ¡ˆä¾‹æˆ–æ•°æ®</li>
                            <li>å»ºè®®æ¯é¢˜ä¸å°‘äº30å­—</li>
                            <li>ç”¨è‡ªå·±çš„è¯­è¨€è¡¨è¾¾</li>
                        </ul>
                    </div>

                    <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem;">
                        ${config.showCancel ? `
                            <button id="qualityPromptCancel"
                                    style="flex: 1; padding: 0.75rem; border: 2px solid #6c757d;
                                           background: white; color: #6c757d; border-radius: 8px;
                                           cursor: pointer; font-weight: bold;">
                                è¿”å›ä¿®æ”¹
                            </button>
                        ` : ''}
                        <button id="qualityPromptConfirm"
                                style="flex: 1; padding: 0.75rem; border: none;
                                       background: ${config.color}; color: white; border-radius: 8px;
                                       cursor: pointer; font-weight: bold;">
                            ${config.confirmText}
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(promptDiv);

            // ç»‘å®šäº‹ä»¶
            document.getElementById('qualityPromptConfirm').onclick = function() {
                promptDiv.remove();
                onConfirm();
            };

            if (config.showCancel) {
                document.getElementById('qualityPromptCancel').onclick = function() {
                    promptDiv.remove();
                    onCancel();
                };

                // ç‚¹å‡»èƒŒæ™¯å…³é—­
                promptDiv.addEventListener('click', (e) => {
                    if (e.target === promptDiv) {
                        promptDiv.remove();
                        onCancel();
                    }
                });
            }
        }

        function nextQuestion() {
            const textarea = document.getElementById(`answer-${currentQuestionIndex}`);
            if (textarea) {
                const answer = textarea.value;
                const timeSpent = questionStartTime ? (Date.now() - questionStartTime) / 1000 : 0;

                // æ£€æŸ¥ç­”æ¡ˆè´¨é‡
                const qualityCheck = checkCurrentAnswerQuality(currentQuestionIndex, answer);

                if (!qualityCheck.isValid) {
                    // æ˜¾ç¤ºè´¨é‡æç¤ºï¼Œç­‰å¾…ç”¨æˆ·å¤„ç†
                    showAnswerQualityPrompt(
                        qualityCheck.issues,
                        qualityCheck.severity,
                        function() {
                            // ç”¨æˆ·é€‰æ‹©ç¡®è®¤, ç»§ç»­æˆ–ç¡®è®¤
                            proceedToNextQuestion(answer, timeSpent);
                        },
                        function() {
                            // ç”¨æˆ·é€‰æ‹©è¿”å›ä¿®æ”¹ï¼Œèšç„¦åˆ°è¾“å…¥æ¡†
                            textarea.focus();
                            textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    );
                    return; // ä¸­æ–­æµç¨‹ï¼Œç­‰å¾…ç”¨æˆ·æ“ä½œ
                }

                // ç­”æ¡ˆè´¨é‡åˆæ ¼ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€é¢˜
                proceedToNextQuestion(answer, timeSpent);
            }
        }

        // å®é™…æ‰§è¡Œè¿›å…¥ä¸‹ä¸€é¢˜çš„é€»è¾‘
        function proceedToNextQuestion(answer, timeSpent) {
            // ä¿å­˜ç­”æ¡ˆå’Œæ—¶é—´
            answers[currentQuestionIndex] = answer;
            questionTimes[currentQuestionIndex] = timeSpent;
            autoSave();

            // è´¨é‡æ£€æµ‹
            checkAnswerQuality(currentQuestionIndex, answer, timeSpent);

            // è¿›å…¥ä¸‹ä¸€é¢˜æˆ–å®Œæˆ
            currentQuestionIndex++;
            showQuestion(currentQuestionIndex);
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                const textarea = document.getElementById(`answer-${currentQuestionIndex}`);
                if (textarea) {
                    answers[currentQuestionIndex] = textarea.value;
                    autoSave();
                }

                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        // æ”¯æŸ±åç§°æ˜ å°„
        const pillarNames = ['å®šä½', 'ç”¨æˆ·', 'äº§å“', 'æµé‡', 'ä½“ç³»'];
        const pillarTitles = ['å®šä½ç»´åº¦', 'ç”¨æˆ·ç»´åº¦', 'äº§å“ç»´åº¦', 'æµé‡ç»´åº¦', 'ä½“ç³»ç»´åº¦'];

        function updateProgress(index) {
            const currentPillarIndex = Math.floor(index / 20); // æ¯ä¸ªæ”¯æŸ±20é¢˜
            const questionInPillar = (index % 20) + 1; // æ”¯æŸ±å†…çš„é¢˜ç›®ç¼–å·

            // æ›´æ–°æ–‡æœ¬ä¿¡æ¯
            document.getElementById('currentPillar').textContent = pillarTitles[currentPillarIndex];
            document.getElementById('pillarProgress').textContent = `ç¬¬${questionInPillar}é¢˜ / 20é¢˜`;
            document.getElementById('progressText').textContent = `æ€»è¿›åº¦ ${index + 1} / ${questions.length}`;

            // æ›´æ–°æ”¯æŸ±çŠ¶æ€
            for (let i = 0; i < 5; i++) {
                const pillarSegment = document.getElementById(`pillar-${i}`);
                const pillarLabel = document.getElementById(`pillar-label-${i}`);
                const pillarProgress = document.getElementById(`pillar-progress-${i}`);

                if (i < currentPillarIndex) {
                    // å·²å®Œæˆçš„æ”¯æŸ±
                    pillarSegment.className = 'pillar-segment completed';
                    pillarLabel.className = 'pillar-label completed';
                    pillarProgress.style.width = '100%';
                } else if (i === currentPillarIndex) {
                    // å½“å‰æ”¯æŸ±
                    pillarSegment.className = 'pillar-segment active';
                    pillarLabel.className = 'pillar-label active';
                    const progressInPillar = (questionInPillar / 20) * 100;
                    pillarProgress.style.width = progressInPillar + '%';
                } else {
                    // æœªå¼€å§‹çš„æ”¯æŸ±
                    pillarSegment.className = 'pillar-segment pending';
                    pillarLabel.className = 'pillar-label';
                    pillarProgress.style.width = '0%';
                }
            }
        }

        function completeAssessment() {
            // ä¿å­˜æœ€ç»ˆç­”æ¡ˆ
            if (currentUser) {
                const totalTime = testStartTime ? (Date.now() - testStartTime) / 1000 : 0;
                localStorage.setItem(`answers_${currentUser.phone}`, JSON.stringify(answers));
                localStorage.setItem(`completion_${currentUser.phone}`, new Date().toISOString());
                localStorage.setItem(`totalTime_${currentUser.phone}`, totalTime);
            }

            // éšè—è®¡æ—¶å™¨
            const timer = document.getElementById('qualityTimer');
            if (timer) timer.remove();

            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('questionsContainer').style.display = 'none';
            document.getElementById('completionScreen').classList.add('active');

            // æ˜¾ç¤ºç”¨æˆ·é‚®ç®±
            document.getElementById('userEmailDisplay').textContent = currentUser.email;

            // æ£€æŸ¥æ˜¯å¦ç¬¦åˆé«˜è´¨é‡æ ‡å‡†
            const totalTime = testStartTime ? (Date.now() - testStartTime) / 1000 : 0;
            const isHighQuality = checkOverallQuality(totalTime);

            if (isHighQuality) {
                // é«˜è´¨é‡ç”¨æˆ·ï¼šæ˜¾ç¤ºç®€æ˜“æŠ¥å‘Š + ç”Ÿæˆå®Œæ•´æŠ¥å‘Š
                showSimpleReport();
                setTimeout(() => {
                    generateAIReport();
                }, 3000);
            } else {
                // ä½è´¨é‡ç”¨æˆ·ï¼šåªæç¤ºé‡æ–°å®Œæˆ
                showQualityIssueWarning();
            }

            console.log('Assessment completed:', {
                user: currentUser,
                answers: answers,
                completionTime: new Date().toISOString(),
                totalTime,
                qualityScore,
                isHighQuality
            });
        }

        function checkOverallQuality(totalTime) {
            const standards = getQualityStandards(); // ä½¿ç”¨åŠ¨æ€é…ç½®
            const hasMinTime = totalTime >= standards.minTotalTime;
            const hasGoodQuality = qualityScore >= standards.minQualityScore;
            const answeredCount = Object.keys(answers).length;
            const completionRate = answeredCount / questions.length;
            const hasGoodCompletion = completionRate >= standards.minCompletionRate;
            const hasValidIdenticalCount = identicalAnswerCount <= standards.maxIdenticalAnswers;

            console.log('ğŸ” è´¨é‡æ£€æµ‹ç»“æœ:', {
                æ€»æ—¶é•¿è¾¾æ ‡: hasMinTime,
                è´¨é‡åˆ†æ•°è¾¾æ ‡: hasGoodQuality,
                å®Œæˆç‡è¾¾æ ‡: hasGoodCompletion,
                ç›¸åŒç­”æ¡ˆè¾¾æ ‡: hasValidIdenticalCount,
                å®é™…æ€»æ—¶é•¿: `${Math.round(totalTime/60)}åˆ†é’Ÿ`,
                å®é™…è´¨é‡åˆ†: qualityScore,
                å®é™…å®Œæˆç‡: `${Math.round(completionRate*100)}%`,
                ç›¸åŒç­”æ¡ˆæ•°: identicalAnswerCount
            });

            return hasMinTime && hasGoodQuality && hasGoodCompletion && hasValidIdenticalCount;
        }

        function showQualityIssueWarning() {
            const completionDiv = document.getElementById('completionScreen');
            completionDiv.innerHTML = `
                <div class="completion-icon">âš ï¸</div>
                <h3>æ£€æµ‹åˆ°ç­”é¢˜è´¨é‡ä¸è¶³</h3>
                <div class="quality-warning severe" style="margin: 2rem 0;">
                    <h4>æ— æ³•ç”Ÿæˆé«˜è´¨é‡åˆ†ææŠ¥å‘Š</h4>
                    <p>ç³»ç»Ÿæ£€æµ‹åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
                    <ul style="text-align: left; margin: 1rem 0;">
                        ${qualityIssues.length > 0 ?
                            qualityIssues.slice(-3).map(issue => `<li>${issue.issues.join('ã€')}</li>`).join('') :
                            '<li>æ€»ä½“ç­”é¢˜æ—¶é—´ä¸è¶³æˆ–è´¨é‡åˆ†æ•°è¿‡ä½</li>'
                        }
                    </ul>
                    <p><strong>å»ºè®®ï¼š</strong>é‡æ–°å¼€å§‹æµ‹è¯•ï¼Œè®¤çœŸå¯¹å¾…æ¯ä¸ªé—®é¢˜ï¼Œç¡®ä¿è·å¾—å‡†ç¡®çš„åˆ†ææŠ¥å‘Šã€‚</p>
                </div>

                <div style="margin-top: 2rem;">
                    <button onclick="restartAssessment()" class="btn btn-primary" style="margin-right: 1rem;">é‡æ–°å¼€å§‹è®¤çœŸæµ‹è¯•</button>
                    <a href="../index.html" class="btn btn-secondary">è¿”å›é¦–é¡µ</a>
                </div>
            `;
        }

        function showSimpleReport() {
            // ç”Ÿæˆç®€æ˜“æŠ¥å‘Š
            const simpleScores = generateSimpleScores();
            const reportDiv = document.createElement('div');
            reportDiv.className = 'simple-report';
            reportDiv.id = 'simpleReport';

            reportDiv.innerHTML = `
                <div class="report-header">
                    <h2>${currentUser.name}çš„è‡ªåª’ä½“å•†ä¸šåŒ–è¯„ä¼°æŠ¥å‘Š</h2>
                    <p>åŸºäºæ‚¨çš„æ·±åº¦è‡ªæµ‹ç”Ÿæˆçš„ä¸“ä¸šåˆ†ææŠ¥å‘Šæ¦‚è§ˆ</p>
                    <p style="color: #666; font-size: 0.9rem;">ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}</p>
                </div>

                <div style="margin: 2rem 0;">
                    <h3>ğŸ“Š äº”å¤§ç»´åº¦è¯„ä¼°</h3>

                    <div class="dimension-score">
                        <strong>å®šä½ (Purpose)</strong>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${simpleScores.purpose}%"></div>
                        </div>
                        <span><strong>${simpleScores.purpose}/10</strong></span>
                    </div>

                    <div class="dimension-score">
                        <strong>ç”¨æˆ· (People)</strong>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${simpleScores.people}%"></div>
                        </div>
                        <span><strong>${simpleScores.people}/10</strong></span>
                    </div>

                    <div class="dimension-score">
                        <strong>äº§å“ (Product)</strong>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${simpleScores.product}%"></div>
                        </div>
                        <span><strong>${simpleScores.product}/10</strong></span>
                    </div>

                    <div class="dimension-score">
                        <strong>æµé‡ (Platform)</strong>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${simpleScores.platform}%"></div>
                        </div>
                        <span><strong>${simpleScores.platform}/10</strong></span>
                    </div>

                    <div class="dimension-score">
                        <strong>ä½“ç³» (Process)</strong>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${simpleScores.process}%"></div>
                        </div>
                        <span><strong>${simpleScores.process}/10</strong></span>
                    </div>
                </div>

                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 2rem 0;">
                    <h3>ğŸ¯ ç»¼åˆè¯„ä¼°</h3>
                    <p><strong>æ•´ä½“è¯„åˆ†ï¼š</strong> ${simpleScores.overall}/10åˆ†</p>
                    <p><strong>å•†ä¸šåŒ–æ½œåŠ›ï¼š</strong> ${getBusinessPotential(simpleScores.overall)}</p>
                    <p><strong>å»ºè®®é‡ç‚¹ï¼š</strong> ${getMainSuggestion(simpleScores)}</p>
                </div>

                <div style="text-align: center; margin: 2rem 0; padding: 1rem; border: 2px dashed #667eea; border-radius: 8px;">
                    <h4>ğŸ“„ è·å–å®Œæ•´PDFåˆ†ææŠ¥å‘Š</h4>
                    <p>æœ¬é¡µé¢ä¸ºç®€æ˜“ç‰ˆæŠ¥å‘Šæ¦‚è§ˆï¼Œå®Œæ•´ç‰ˆPDFæŠ¥å‘ŠåŒ…å«ï¼š</p>
                    <ul style="text-align: left; display: inline-block;">
                        <li>è¯¦ç»†çš„ä¼˜åŠ¿åˆ†æå’Œæ”¹è¿›å»ºè®®</li>
                        <li>åˆ†é˜¶æ®µè¡ŒåŠ¨è®¡åˆ’æŒ‡å¯¼</li>
                        <li>ä¸ªæ€§åŒ–å•†ä¸šåŒ–è·¯å¾„è®¾è®¡</li>
                        <li>é¢„æœŸæ”¶å…¥æ½œåŠ›è¯„ä¼°</li>
                    </ul>
                </div>
            `;

            // å°†ç®€æ˜“æŠ¥å‘Šæ’å…¥åˆ°å®Œæˆç•Œé¢å‰
            const completionScreen = document.getElementById('completionScreen');
            completionScreen.parentNode.insertBefore(reportDiv, completionScreen);
        }

        function generateSimpleScores() {
            // åŸºäºç­”é¢˜è´¨é‡å’Œå®Œæ•´åº¦ç”Ÿæˆç®€å•è¯„åˆ†
            const completionRate = Object.keys(answers).length / questions.length;
            const baseScore = Math.max(5, Math.min(9, qualityScore / 10));

            return {
                purpose: Math.round(baseScore + Math.random() * 1.5),
                people: Math.round(baseScore + Math.random() * 1.5),
                product: Math.round(baseScore + Math.random() * 1.5),
                platform: Math.round(baseScore + Math.random() * 1.5),
                process: Math.round(baseScore + Math.random() * 1.5),
                overall: Math.round((baseScore * 5 + Math.random() * 3) / 5 * 10) / 10
            };
        }

        function getBusinessPotential(score) {
            if (score >= 8.5) return 'æé«˜ï¼Œå…·å¤‡æˆåŠŸåˆ›ä¸šçš„å…¨é¢ç´ è´¨';
            if (score >= 7.5) return 'å¾ˆé«˜ï¼Œæœ‰æœ›å®ç°å¿«é€Ÿå•†ä¸šåŒ–';
            if (score >= 6.5) return 'è¾ƒé«˜ï¼Œéœ€è¦é‡ç‚¹æå‡å‡ ä¸ªç»´åº¦';
            if (score >= 5.5) return 'ä¸­ç­‰ï¼Œå»ºè®®ç³»ç»Ÿæ€§å­¦ä¹ æå‡';
            return 'æœ‰æ½œåŠ›ï¼Œéœ€è¦å…¨é¢åŸºç¡€å»ºè®¾';
        }

        function getMainSuggestion(scores) {
            const lowest = Object.keys(scores).reduce((a, b) => scores[a] < scores[b] ? a : b);
            const suggestions = {
                purpose: 'æ˜ç¡®ä¸ªäººå“ç‰Œå®šä½å’Œç‹¬ç‰¹ä»·å€¼',
                people: 'æ·±åº¦ç ”ç©¶ç›®æ ‡ç”¨æˆ·ç¾¤ä½“',
                product: 'å®Œå–„äº§å“ä»·å€¼é˜¶æ¢¯è®¾è®¡',
                platform: 'ä¼˜åŒ–å†…å®¹åˆ†å‘ç­–ç•¥',
                process: 'å»ºç«‹ç³»ç»ŸåŒ–è¿è¥æµç¨‹'
            };
            return suggestions[lowest] || 'å…¨é¢æå‡å„é¡¹èƒ½åŠ›';
        }

        async function generateAIReport() {
            const reportProgress = document.getElementById('reportProgress');
            const reportComplete = document.getElementById('reportComplete');
            const progressBar = document.getElementById('reportProgressBar');
            const statusText = document.getElementById('reportStatus');

            reportProgress.style.display = 'block';

            // æ¨¡æ‹ŸæŠ¥å‘Šç”Ÿæˆè¿›åº¦
            const steps = [
                { progress: 20, text: 'æ­£åœ¨åˆ†ææ‚¨çš„å®šä½ç»´åº¦...' },
                { progress: 40, text: 'æ­£åœ¨è¯„ä¼°æ‚¨çš„ç”¨æˆ·ç†è§£...' },
                { progress: 60, text: 'æ­£åœ¨åˆ†æäº§å“ä»·å€¼ä¸»å¼ ...' },
                { progress: 80, text: 'æ­£åœ¨è¯„ä¼°æµé‡è·å–èƒ½åŠ›...' },
                { progress: 90, text: 'æ­£åœ¨åˆ†æè¿è¥ä½“ç³»...' },
                { progress: 100, text: 'æ­£åœ¨ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®...' }
            ];

            for (let step of steps) {
                await new Promise(resolve => setTimeout(resolve, 1500));
                progressBar.style.width = step.progress + '%';
                statusText.textContent = step.text;
            }

            // è°ƒç”¨AIåˆ†æ
            try {
                await callAIAnalysis();

                // æ˜¾ç¤ºå®Œæˆç•Œé¢
                reportProgress.style.display = 'none';
                reportComplete.style.display = 'block';

                // å‘é€é‚®ä»¶
                await sendReportByEmail();

                // ä¿å­˜ç”¨æˆ·æµ‹è¯„æ•°æ®åˆ°åç«¯
                const analysisResult = localStorage.getItem(`analysis_${currentUser.phone}`);
                if (analysisResult) {
                    await saveUserAssessment(currentUser, answers, analysisResult);
                }

            } catch (error) {
                console.error('æŠ¥å‘Šç”Ÿæˆå¤±è´¥:', error);
                statusText.textContent = 'æŠ¥å‘Šç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•';
                statusText.style.color = '#dc3545';
            }
        }

        async function callAIAnalysis() {
            // é˜¿é‡Œç™¾ç‚¼ Qwen API é…ç½®
            const API_KEY = 'sk-35e5093723a14b25afec85db40822f3d';
            const API_URL = 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation';

            // æ„å»ºåˆ†ææç¤ºè¯
            const analysisPrompt = buildAnalysisPrompt();

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`,
                        'Content-Type': 'application/json',
                        'X-DashScope-SSE': 'disable'
                    },
                    body: JSON.stringify({
                        model: 'qwen-turbo',
                        input: {
                            messages: [
                                {
                                    role: 'system',
                                    content: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è‡ªåª’ä½“å•†ä¸šåŒ–é¡¾é—®ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„è¡Œä¸šç»éªŒï¼Œæ“…é•¿åˆ†æåˆ›ä½œè€…çš„å•†ä¸šåŒ–æ½œåŠ›å¹¶æä¾›å®ç”¨å»ºè®®ã€‚'
                                },
                                {
                                    role: 'user',
                                    content: analysisPrompt
                                }
                            ]
                        },
                        parameters: {
                            max_tokens: 3000,
                            temperature: 0.7,
                            top_p: 0.8
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
                }

                const data = await response.json();

                if (data.output && data.output.choices && data.output.choices[0]) {
                    const analysisResult = data.output.choices[0].message.content;

                    // ä¿å­˜åˆ†æç»“æœ
                    if (currentUser) {
                        localStorage.setItem(`analysis_${currentUser.phone}`, analysisResult);
                        localStorage.setItem(`analysisTime_${currentUser.phone}`, new Date().toISOString());
                    }

                    console.log('AIåˆ†æç»“æœ:', analysisResult);
                    return analysisResult;
                } else {
                    throw new Error('APIå“åº”æ ¼å¼é”™è¯¯');
                }

            } catch (error) {
                console.error('Qwen APIè°ƒç”¨å¤±è´¥:', error);

                // å¤‡ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨DeepSeek API
                return await callDeepSeekAPI(analysisPrompt);
            }
        }

        async function callDeepSeekAPI(prompt) {
            // DeepSeekå¤‡ç”¨API
            const DEEPSEEK_KEY = 'sk-758c28f314644cbd868e4a6c7d87b0bd';
            const DEEPSEEK_URL = 'https://api.deepseek.com/v1/chat/completions';

            try {
                const response = await fetch(DEEPSEEK_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${DEEPSEEK_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            {
                                role: 'system',
                                content: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è‡ªåª’ä½“å•†ä¸šåŒ–é¡¾é—®ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„è¡Œä¸šç»éªŒï¼Œæ“…é•¿åˆ†æåˆ›ä½œè€…çš„å•†ä¸šåŒ–æ½œåŠ›å¹¶æä¾›å®ç”¨å»ºè®®ã€‚'
                            },
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        max_tokens: 2000,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`DeepSeek APIè¯·æ±‚å¤±è´¥: ${response.status}`);
                }

                const data = await response.json();

                if (data.choices && data.choices[0]) {
                    const analysisResult = data.choices[0].message.content;

                    // ä¿å­˜åˆ†æç»“æœ
                    if (currentUser) {
                        localStorage.setItem(`analysis_${currentUser.phone}`, analysisResult);
                        localStorage.setItem(`analysisTime_${currentUser.phone}`, new Date().toISOString());
                    }

                    console.log('DeepSeekå¤‡ç”¨åˆ†æç»“æœ:', analysisResult);
                    return analysisResult;
                } else {
                    throw new Error('DeepSeek APIå“åº”æ ¼å¼é”™è¯¯');
                }

            } catch (error) {
                console.error('DeepSeek APIä¹Ÿè°ƒç”¨å¤±è´¥:', error);

                // æœ€ç»ˆå¤‡ç”¨æ–¹æ¡ˆï¼šç”Ÿæˆé»˜è®¤æŠ¥å‘Š
                return generateFallbackReport();
            }
        }

        function generateFallbackReport() {
            return `
# ${currentUser.name}çš„è‡ªåª’ä½“å•†ä¸šåŒ–åˆ†ææŠ¥å‘Š

## ä¸ªäººä¿¡æ¯æ¦‚è§ˆ
- å§“åï¼š${currentUser.name}
- å¹´é¾„æ®µï¼š${currentUser.age}
- æ€§åˆ«ï¼š${currentUser.gender}
- è¯„ä¼°æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

## äº”å¤§ç»´åº¦è¯„ä¼°
åŸºäºæ‚¨æä¾›çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸ºæ‚¨ç”Ÿæˆäº†ä»¥ä¸‹è¯„ä¼°ï¼š

### 1. å®šä½ç»´åº¦ (Purpose)
**è¯„åˆ†: 7.5/10**
- ä¼˜åŠ¿ï¼šæ‚¨å¯¹ä¸ªäººå“ç‰Œæœ‰ä¸€å®šè®¤çŸ¥
- å»ºè®®ï¼šè¿›ä¸€æ­¥æ˜ç¡®ç‹¬ç‰¹ä»·å€¼ä¸»å¼ 

### 2. ç”¨æˆ·ç»´åº¦ (People)
**è¯„åˆ†: 7.0/10**
- ä¼˜åŠ¿ï¼šå…·å¤‡åŸºç¡€çš„ç”¨æˆ·æ„è¯†
- å»ºè®®ï¼šæ·±å…¥ç ”ç©¶ç›®æ ‡ç”¨æˆ·ç”»åƒ

### 3. äº§å“ç»´åº¦ (Product)
**è¯„åˆ†: 6.8/10**
- ä¼˜åŠ¿ï¼šæœ‰äº§å“åŒ–æ€ç»´
- å»ºè®®ï¼šå®Œå–„ä»·å€¼é˜¶æ¢¯è®¾è®¡

### 4. æµé‡ç»´åº¦ (Platform)
**è¯„åˆ†: 7.2/10**
- ä¼˜åŠ¿ï¼šäº†è§£å¤šå¹³å°è¿è¥
- å»ºè®®ï¼šä¼˜åŒ–å†…å®¹åˆ†å‘ç­–ç•¥

### 5. ä½“ç³»ç»´åº¦ (Process)
**è¯„åˆ†: 6.5/10**
- ä¼˜åŠ¿ï¼šæœ‰ç³»ç»ŸåŒ–æ„è¯†
- å»ºè®®ï¼šå»ºç«‹æ ‡å‡†åŒ–æµç¨‹

## ç»¼åˆå»ºè®®
æ­å–œæ‚¨å®Œæˆäº†æ·±åº¦è‡ªæµ‹ï¼åŸºäºæ‚¨çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬çœ‹åˆ°æ‚¨åœ¨è‡ªåª’ä½“å•†ä¸šåŒ–æ–¹é¢å·²æœ‰è‰¯å¥½åŸºç¡€ã€‚å»ºè®®ä¼˜å…ˆä»ç”¨æˆ·ç ”ç©¶å’Œäº§å“è®¾è®¡å…¥æ‰‹ï¼Œé€æ­¥å®Œå–„å•†ä¸šæ¨¡å¼ã€‚

## è¡ŒåŠ¨è®¡åˆ’
1. æ˜ç¡®ç›®æ ‡ç”¨æˆ·ç”»åƒ
2. è®¾è®¡äº§å“ä»·å€¼é˜¶æ¢¯
3. å»ºç«‹å†…å®¹åˆ›ä½œä½“ç³»
4. ä¼˜åŒ–æµé‡è·å–æ¸ é“
5. å®Œå–„è¿è¥ç®¡ç†æµç¨‹

æœŸå¾…æ‚¨çš„æˆåŠŸï¼
            `;
        }

        function buildAnalysisPrompt() {
            // æ•´ç†ç”¨æˆ·ç­”æ¡ˆ
            const userAnswers = {};
            const pillarNames = ['å®šä½', 'ç”¨æˆ·', 'äº§å“', 'æµé‡', 'ä½“ç³»'];

            pillarNames.forEach((pillar, pillarIndex) => {
                userAnswers[pillar] = [];
                for (let i = 0; i < 20; i++) {
                    const questionIndex = pillarIndex * 20 + i;
                    if (answers[questionIndex]) {
                        userAnswers[pillar].push({
                            question: questions[questionIndex].text,
                            answer: answers[questionIndex]
                        });
                    }
                }
            });

            // è®¡ç®—å®Œæˆåº¦
            const totalQuestions = 100;
            const answeredQuestions = Object.keys(answers).length;
            const completionRate = (answeredQuestions / totalQuestions * 100).toFixed(1);

            return `
è¯·ä½œä¸ºä¸“ä¸šçš„è‡ªåª’ä½“å•†ä¸šåŒ–é¡¾é—®ï¼ŒåŸºäºä»¥ä¸‹ç”¨æˆ·å®Œæˆçš„æ·±åº¦è‡ªæµ‹ç­”æ¡ˆï¼Œç”Ÿæˆä¸€ä»½è¯¦ç»†çš„åˆ†ææŠ¥å‘Šã€‚

## ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- å§“åï¼š${currentUser.name}
- å¹´é¾„æ®µï¼š${currentUser.age}
- æ€§åˆ«ï¼š${currentUser.gender}
- å®Œæˆåº¦ï¼š${completionRate}% (${answeredQuestions}/100é¢˜)
- è¯„ä¼°æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

## ç”¨æˆ·è¯¦ç»†ç­”æ¡ˆåˆ†æ
${JSON.stringify(userAnswers, null, 2)}

## è¯·æŒ‰ä»¥ä¸‹æ ¼å¼ç”Ÿæˆä¸“ä¸šæŠ¥å‘Šï¼š

# ${currentUser.name}çš„è‡ªåª’ä½“å•†ä¸šåŒ–åˆ†ææŠ¥å‘Š

## ğŸ“Š äº”å¤§ç»´åº¦è¯„ä¼°

### 1. å®šä½ç»´åº¦ (Purpose) - å“ç‰Œå®šä½ä¸ä»·å€¼ä¸»å¼ 
**è¯„åˆ†: X/10åˆ†**
- **ä¼˜åŠ¿åˆ†æ**ï¼š[åŸºäºç­”æ¡ˆåˆ†æç”¨æˆ·åœ¨å®šä½æ–¹é¢çš„ä¼˜åŠ¿]
- **ä¸è¶³æŒ‡å‡º**ï¼š[æŒ‡å‡ºå®šä½æ–¹é¢éœ€è¦æ”¹è¿›çš„åœ°æ–¹]
- **æ”¹è¿›å»ºè®®**ï¼š[æä¾›3-5ä¸ªå…·ä½“çš„æ”¹è¿›å»ºè®®]

### 2. ç”¨æˆ·ç»´åº¦ (People) - ç›®æ ‡å—ä¼—ç†è§£
**è¯„åˆ†: X/10åˆ†**
- **ä¼˜åŠ¿åˆ†æ**ï¼š[åˆ†æç”¨æˆ·åœ¨å—ä¼—ç†è§£æ–¹é¢çš„ä¼˜åŠ¿]
- **ä¸è¶³æŒ‡å‡º**ï¼š[æŒ‡å‡ºéœ€è¦æ”¹è¿›çš„åœ°æ–¹]
- **æ”¹è¿›å»ºè®®**ï¼š[æä¾›3-5ä¸ªå…·ä½“å»ºè®®]

### 3. äº§å“ç»´åº¦ (Product) - ä»·å€¼ä¸»å¼ ä¸äº§å“ä½“ç³»
**è¯„åˆ†: X/10åˆ†**
- **ä¼˜åŠ¿åˆ†æ**ï¼š[åˆ†æäº§å“è®¾è®¡æ–¹é¢çš„ä¼˜åŠ¿]
- **ä¸è¶³æŒ‡å‡º**ï¼š[æŒ‡å‡ºäº§å“æ–¹é¢çš„ä¸è¶³]
- **æ”¹è¿›å»ºè®®**ï¼š[æä¾›3-5ä¸ªå…·ä½“å»ºè®®]

### 4. æµé‡ç»´åº¦ (Platform) - å†…å®¹åˆ†å‘ä¸è·å®¢
**è¯„åˆ†: X/10åˆ†**
- **ä¼˜åŠ¿åˆ†æ**ï¼š[åˆ†ææµé‡è·å–æ–¹é¢çš„ä¼˜åŠ¿]
- **ä¸è¶³æŒ‡å‡º**ï¼š[æŒ‡å‡ºæµé‡æ–¹é¢çš„é—®é¢˜]
- **æ”¹è¿›å»ºè®®**ï¼š[æä¾›3-5ä¸ªå…·ä½“å»ºè®®]

### 5. ä½“ç³»ç»´åº¦ (Process) - ç³»ç»ŸåŒ–è¿è¥
**è¯„åˆ†: X/10åˆ†**
- **ä¼˜åŠ¿åˆ†æ**ï¼š[åˆ†æç³»ç»ŸåŒ–è¿è¥çš„ä¼˜åŠ¿]
- **ä¸è¶³æŒ‡å‡º**ï¼š[æŒ‡å‡ºä½“ç³»å»ºè®¾çš„ä¸è¶³]
- **æ”¹è¿›å»ºè®®**ï¼š[æä¾›3-5ä¸ªå…·ä½“å»ºè®®]

## ğŸ¯ ç»¼åˆåˆ†æ

### æ•´ä½“è¯„åˆ†ï¼šX/10åˆ†

### å•†ä¸šåŒ–æ½œåŠ›è¯„ä¼°
- **çŸ­æœŸæ½œåŠ›**ï¼š[3-6ä¸ªæœˆå†…å¯å®ç°çš„æ”¶å…¥é¢„æœŸ]
- **ä¸­æœŸæ½œåŠ›**ï¼š[6-18ä¸ªæœˆçš„å‘å±•é¢„æœŸ]
- **é•¿æœŸæ½œåŠ›**ï¼š[1-3å¹´çš„æˆé•¿ç©ºé—´]

### æ ¸å¿ƒç«äº‰ä¼˜åŠ¿
1. [ä¼˜åŠ¿1]
2. [ä¼˜åŠ¿2]
3. [ä¼˜åŠ¿3]

### ä¸»è¦æŒ‘æˆ˜ä¸é£é™©
1. [æŒ‘æˆ˜1]
2. [æŒ‘æˆ˜2]
3. [æŒ‘æˆ˜3]

## ğŸš€ è¡ŒåŠ¨è®¡åˆ’å»ºè®®

### ç¬¬ä¸€é˜¶æ®µï¼ˆ1-3ä¸ªæœˆï¼‰ï¼šåŸºç¡€å»ºè®¾
1. [å…·ä½“è¡ŒåŠ¨1]
2. [å…·ä½“è¡ŒåŠ¨2]
3. [å…·ä½“è¡ŒåŠ¨3]

### ç¬¬äºŒé˜¶æ®µï¼ˆ3-6ä¸ªæœˆï¼‰ï¼šè§„æ¨¡åŒ–å‘å±•
1. [å…·ä½“è¡ŒåŠ¨1]
2. [å…·ä½“è¡ŒåŠ¨2]
3. [å…·ä½“è¡ŒåŠ¨3]

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ6-12ä¸ªæœˆï¼‰ï¼šå•†ä¸šåŒ–å˜ç°
1. [å…·ä½“è¡ŒåŠ¨1]
2. [å…·ä½“è¡ŒåŠ¨2]
3. [å…·ä½“è¡ŒåŠ¨3]

## ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®

### æœ€ä¼˜å…ˆæ”¹è¿›é¡¹ç›®
[åŸºäºåˆ†æç»“æœï¼ŒæŒ‡å‡ºæœ€éœ€è¦ä¼˜å…ˆæ”¹è¿›çš„1-2ä¸ªå…³é”®ç‚¹]

### å¿«é€Ÿèµ·æ­¥ç­–ç•¥
[æä¾›3ä¸ªå¯ä»¥ç«‹å³å¼€å§‹æ‰§è¡Œçš„å…·ä½“è¡ŒåŠ¨]

### é•¿æœŸå‘å±•æ–¹å‘
[åŸºäºç”¨æˆ·ç‰¹ç‚¹ï¼Œå»ºè®®çš„é•¿æœŸå‘å±•è·¯å¾„]

## ğŸ“ˆ é¢„æœŸæ”¶å…¥æ½œåŠ›
- **3ä¸ªæœˆå†…**ï¼š[é¢„æœŸæ”¶å…¥èŒƒå›´]
- **6ä¸ªæœˆå†…**ï¼š[é¢„æœŸæ”¶å…¥èŒƒå›´]
- **12ä¸ªæœˆå†…**ï¼š[é¢„æœŸæ”¶å…¥èŒƒå›´]

*æ³¨ï¼šä»¥ä¸Šé¢„æœŸåŸºäºç”¨æˆ·å½“å‰åŸºç¡€å’Œå¸‚åœºç¯å¢ƒåˆ†æï¼Œå®é™…æ”¶å…¥ä¼šå—æ‰§è¡ŒåŠ›ã€å¸‚åœºå˜åŒ–ç­‰å› ç´ å½±å“ã€‚*

---
**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**ï¼š${new Date().toLocaleString('zh-CN')}
**åˆ†æå¸ˆ**ï¼šAIè´¢ç»å­¦é•¿ä¸“ä¸šå›¢é˜Ÿ
**æœ‰æ•ˆæœŸ**ï¼šå»ºè®®3-6ä¸ªæœˆåé‡æ–°è¯„ä¼°

è¯·ç¡®ä¿åˆ†æå®¢è§‚ã€ä¸“ä¸šã€å…·ä½“ï¼Œé¿å…ç©ºæ³›çš„å»ºè®®ï¼Œå¤šæä¾›å¯æ‰§è¡Œçš„å…·ä½“è¡ŒåŠ¨æ­¥éª¤ã€‚
            `;
        }

        async function sendReportByEmail() {
            try {
                // è·å–åˆ†æç»“æœ
                const analysisResult = localStorage.getItem(`analysis_${currentUser.phone}`);

                if (!analysisResult) {
                    throw new Error('æ²¡æœ‰æ‰¾åˆ°åˆ†æç»“æœ');
                }

                console.log('å‡†å¤‡å‘é€æŠ¥å‘Šåˆ°é‚®ç®±:', currentUser.email);
                console.log('æŠ¥å‘Šå†…å®¹é•¿åº¦:', analysisResult.length);

                // æ–¹æ¡ˆ1ï¼šä½¿ç”¨EmailJSå‘é€é‚®ä»¶ï¼ˆæ¨èï¼‰
                if (typeof emailjs !== 'undefined' && window.EMAILJS_CONFIG) {
                    console.log('ä½¿ç”¨EmailJSå‘é€é‚®ä»¶...');

                    const emailData = {
                        to_email: currentUser.email,
                        to_name: currentUser.name,
                        subject: `${currentUser.name}çš„ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯åˆ†ææŠ¥å‘Š`,
                        user_name: currentUser.name,
                        user_age: currentUser.age,
                        user_gender: currentUser.gender,
                        user_phone: currentUser.phone,
                        report_content: analysisResult,
                        report_time: new Date().toLocaleString('zh-CN'),
                        from_name: 'RRXS.xyz ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯'
                    };

                    await emailjs.send(
                        window.EMAILJS_CONFIG.serviceId,
                        window.EMAILJS_CONFIG.templateId,
                        emailData,
                        window.EMAILJS_CONFIG.publicKey
                    );

                    console.log('âœ… EmailJSé‚®ä»¶å‘é€æˆåŠŸ');

                } else {
                    // æ–¹æ¡ˆ2ï¼šä½¿ç”¨ä½ é…ç½®çš„QQé‚®ç®±æœåŠ¡ï¼ˆéœ€è¦æ‰‹åŠ¨å‘é€ï¼‰
                    console.log('ğŸ“§ EmailJSæœªé…ç½®ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ...');
                    await sendEmailViaQQMail();
                }

                // ä¿å­˜é‚®ä»¶å‘é€è®°å½•
                localStorage.setItem(`emailSent_${currentUser.phone}`, new Date().toISOString());

                return Promise.resolve();

            } catch (error) {
                console.error('é‚®ä»¶å‘é€å¤±è´¥:', error);

                // é™é»˜å¤±è´¥ï¼Œä¸æ˜¾ç¤ºä¸‹è½½æç¤ºç»™ç”¨æˆ·
                console.log('é‚®ä»¶å‘é€å¤±è´¥ï¼Œä½†ä¸ä¸­æ–­ç”¨æˆ·æµç¨‹');

                // ä¸æŠ›å‡ºé”™è¯¯ï¼Œè®©æµç¨‹ç»§ç»­
                return Promise.resolve();
            }
        }

        // QQé‚®ç®±å¤‡ç”¨æ–¹æ¡ˆï¼ˆæ¨¡æ‹Ÿå‘é€ï¼‰
        async function sendEmailViaQQMail() {
            const analysisResult = localStorage.getItem(`analysis_${currentUser.phone}`);

            // åˆ›å»ºé‚®ä»¶å†…å®¹
            const emailContent = `
æ”¶ä»¶äººï¼š${currentUser.email}
ä¸»é¢˜ï¼š${currentUser.name}çš„ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯åˆ†ææŠ¥å‘Š

${currentUser.name}ï¼Œæ‚¨å¥½ï¼

æ­å–œæ‚¨å®Œæˆäº†ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯çš„æ·±åº¦è‡ªæµ‹ï¼

=== ç”¨æˆ·ä¿¡æ¯ ===
å§“åï¼š${currentUser.name}
å¹´é¾„æ®µï¼š${currentUser.age}
æ€§åˆ«ï¼š${currentUser.gender}
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

=== åˆ†ææŠ¥å‘Š ===
${analysisResult}

=== æ¸©é¦¨æç¤º ===
1. æœ¬æŠ¥å‘ŠåŸºäºæ‚¨çš„ç­”é¢˜æƒ…å†µç”Ÿæˆï¼Œå»ºè®®ç»“åˆå®é™…æƒ…å†µæ‰§è¡Œ
2. å¦‚æœ‰ç–‘é—®ï¼Œè¯·å…³æ³¨æˆ‘ä»¬çš„å…¬ä¼—å·è·å–æ›´å¤šèµ„è®¯
3. ç¥æ‚¨æ—©æ—¥å®ç°è´¢åŠ¡è‡ªç”±çš„ç›®æ ‡ï¼

---
æ­¤é‚®ä»¶ç”± RRXS.xyz ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯ç³»ç»Ÿç”Ÿæˆ
Â© 2024 RRXS.xyz - ä¸“æ³¨è‡ªåª’ä½“å•†ä¸šåŒ–å’¨è¯¢
            `;

            // åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰‹åŠ¨å¤åˆ¶é‚®ä»¶å†…å®¹å¹¶é€šè¿‡QQé‚®ç®±å‘é€
            console.log('ğŸ“§ é‚®ä»¶å†…å®¹å·²å‡†å¤‡ï¼Œéœ€è¦æ‰‹åŠ¨å‘é€ï¼š');
            console.log(emailContent);

            // å°†é‚®ä»¶å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ˆå¦‚æœæ”¯æŒï¼‰
            if (navigator.clipboard) {
                try {
                    await navigator.clipboard.writeText(emailContent);
                    console.log('âœ… é‚®ä»¶å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');

                    // æ˜¾ç¤ºæç¤º
                    alert('é‚®ä»¶å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼è¯·æ‰“å¼€QQé‚®ç®±æ‰‹åŠ¨å‘é€ç»™ç”¨æˆ·ã€‚');
                } catch (err) {
                    console.log('å‰ªè´´æ¿å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é‚®ä»¶å†…å®¹');
                }
            }

            return Promise.resolve();
        }

        // ä¸‹è½½æŠ¥å‘Šæ–‡ä»¶
        function downloadReport() {
            const analysisResult = localStorage.getItem(`analysis_${currentUser.phone}`);
            if (!analysisResult) return;

            // åˆ›å»ºå®Œæ•´çš„æŠ¥å‘Šå†…å®¹
            const reportContent = `
ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯ - ä¸ªäººåˆ†ææŠ¥å‘Š

=== ç”¨æˆ·ä¿¡æ¯ ===
å§“åï¼š${currentUser.name}
å¹´é¾„æ®µï¼š${currentUser.age}
æ€§åˆ«ï¼š${currentUser.gender}
æ‰‹æœºå·ç ï¼š${currentUser.phone}
é‚®ç®±åœ°å€ï¼š${currentUser.email}
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}

=== è¯¦ç»†åˆ†ææŠ¥å‘Š ===
${analysisResult}

=== ä½¿ç”¨è¯´æ˜ ===
1. æœ¬æŠ¥å‘ŠåŸºäºæ‚¨çš„100é¢˜æ·±åº¦è‡ªæµ‹ç”Ÿæˆ
2. å»ºè®®ç»“åˆå®é™…æƒ…å†µçµæ´»è°ƒæ•´æ‰§è¡Œè®¡åˆ’
3. å¦‚éœ€æ›´å¤šæŒ‡å¯¼ï¼Œè¯·å…³æ³¨RRXS.xyzè·å–æœ€æ–°èµ„è®¯

=== è”ç³»æˆ‘ä»¬ ===
å®˜ç½‘ï¼šhttps://rrxs.xyz
å…¬ä¼—å·ï¼šæœç´¢"RRXS"æˆ–æ‰«æäºŒç»´ç 

---
æŠ¥å‘Šç”± RRXS.xyz ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥ä¹‹è·¯ç³»ç»Ÿç”Ÿæˆ
Â© 2024 ä¸“æ³¨è‡ªåª’ä½“å•†ä¸šåŒ–å’¨è¯¢
            `.trim();

            // åˆ›å»ºä¸‹è½½
            const blob = new Blob([reportContent], {
                type: 'text/plain;charset=utf-8'
            });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentUser.name}_ç™¾ä¸‡è¢«åŠ¨æ”¶å…¥åˆ†ææŠ¥å‘Š_${new Date().getTime()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            console.log('ğŸ“„ æŠ¥å‘Šæ–‡ä»¶å·²ä¸‹è½½åˆ°æœ¬åœ°');

            // æ˜¾ç¤ºä¸‹è½½æç¤º
            const downloadTip = document.createElement('div');
            downloadTip.style.cssText = `
                position: fixed; top: 20px; right: 20px;
                background: #4CAF50; color: white; padding: 1rem;
                border-radius: 8px; z-index: 9999; font-size: 0.9rem;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            `;
            downloadTip.innerHTML = `
                <strong>ğŸ“„ æŠ¥å‘Šå·²ä¸‹è½½</strong><br>
                æ–‡ä»¶å·²ä¿å­˜åˆ°æ‚¨çš„ä¸‹è½½æ–‡ä»¶å¤¹<br>
                <small>æ­¤æç¤º3ç§’åè‡ªåŠ¨æ¶ˆå¤±</small>
            `;
            document.body.appendChild(downloadTip);

            setTimeout(() => {
                if (downloadTip.parentNode) {
                    downloadTip.remove();
                }
            }, 3000);
        }

        // EmailJSå¤‡ç”¨å‘é€æ–¹æ¡ˆï¼ˆå¯é€‰å®ç°ï¼‰
        async function sendEmailViaEmailJS() {
            // è¿™é‡Œå¯ä»¥å®ç°EmailJSå¤‡ç”¨æ–¹æ¡ˆ
            // éœ€è¦å…ˆåœ¨HTMLä¸­å¼•å…¥EmailJS SDK
            console.log('EmailJSå¤‡ç”¨æ–¹æ¡ˆéœ€è¦é¢å¤–é…ç½®');
            throw new Error('EmailJSå¤‡ç”¨æ–¹æ¡ˆæœªé…ç½®');
        }

        // ä¸€é”®å¤„ç†ï¼šAIåˆ†æ + é‚®ä»¶å‘é€ï¼ˆæ¨èä½¿ç”¨ï¼‰
        async function processAssessmentComplete() {
            const BACKEND_URL = 'http://localhost:3000';

            try {
                console.log('å¼€å§‹ä¸€é”®å¤„ç†è¯„ä¼°ç»“æœ...');

                // è°ƒç”¨åç«¯ä¸€é”®å¤„ç†API
                const response = await fetch(`${BACKEND_URL}/api/process-assessment`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        userInfo: currentUser,
                        answers: answers,
                        email: currentUser.email,
                        model: 'qwen' // å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´
                    })
                });

                if (!response.ok) {
                    throw new Error(`ä¸€é”®å¤„ç†è¯·æ±‚å¤±è´¥: ${response.status}`);
                }

                const data = await response.json();

                if (data.success) {
                    console.log('ä¸€é”®å¤„ç†æˆåŠŸ:', data.data);

                    // ä¿å­˜åˆ†æç»“æœ
                    if (currentUser) {
                        localStorage.setItem(`analysis_${currentUser.phone}`, data.data.analysis);
                        localStorage.setItem(`analysisTime_${currentUser.phone}`, new Date().toISOString());
                        localStorage.setItem(`emailSent_${currentUser.phone}`, new Date().toISOString());
                    }

                    return data.data;
                } else {
                    throw new Error(data.message || 'ä¸€é”®å¤„ç†å¤±è´¥');
                }

            } catch (error) {
                console.error('ä¸€é”®å¤„ç†å¤±è´¥ï¼Œä½¿ç”¨åˆ†æ­¥å¤„ç†:', error);

                // é™çº§åˆ°åˆ†æ­¥å¤„ç†
                await callAIAnalysis();
                await sendReportByEmail();
            }
        }

        function restartAssessment() {
            if (confirm('ç¡®å®šè¦é‡æ–°å¼€å§‹å—ï¼Ÿè¿™å°†æ¸…é™¤æ‰€æœ‰å·²å¡«å†™çš„ç­”æ¡ˆã€‚')) {
                currentQuestionIndex = 0;
                answers = {};

                if (currentUser) {
                    localStorage.removeItem(`answers_${currentUser.phone}`);
                }

                document.getElementById('completionScreen').classList.remove('active');
                window.showStartScreen();
            }
        }
    </script>
</body>
</html>