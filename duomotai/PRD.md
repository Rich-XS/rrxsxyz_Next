# 多魔汰风暴辩论系统产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称
多魔汰风暴辩论系统（Storm Debate System）

### 1.2 产品定位
多魔汰是基于AI角色扮演的多专家风暴辩论系统，帮助用户在复杂决策场景下获得多维度专业视角和深入分析。

### 1.3 目标用户
- 决策者：需要获得多角度专业意见的决策人员
- 企业管理者：需要进行战略规划和风险评估的管理者
- 个人用户：希望获得全方位问题解决方案的个人

## 2. 核心需求与功能

### 2.1 5阶段风暴辩论流程

1. **准备 (Preparation)**
   - 输入决策问题和背景信息
   - 选择参与辩论的角色
   - 确定辩论轮数

2. **策划 (Planning)**
   - 领袖(委托代理)生成策略规划
   - 委托人可补充和调整策略
   - 策略确认后进入正式辩论

3. **确认 (Confirmation)**
   - 委托人确认策略
   - 点击"确认，开始风暴辩论"

4. **辩论 (Debate)**
   - 8位核心专家按序轮流发言
   - 中场转场，委托人可补充意见
   - 补充发言环节，专家自由辩论

5. **交付 (Delivery)**
   - 生成决策总结报告
   - 提供后续服务选项

### 2.2 产品核心功能

#### 2.2.1 角色系统 (16个角色, 含部分 必选 和 其余 可选)
- **核心分析层**（蓝色）：第一性原理专家(Elon)、时间穿越专家(Clara)、上帝视角专家(Zeus)
- **外部威胁与机遇层**（紫色）：杠精专家(Donald)、买单客户(Chloe)、竞争友商(Eve)、领袖(委托代理)(Victoria)
- **价值与行动层**（绿色）：落地执行者(Owen)、风险管理者(Rick)、性能追求者(Jason)、情绪追求者(Joy)、社会认同者(Liam)、潜在威胁(Jack)、开发协调者(Mary)、时间穿越者(Clara)

#### 2.2.2 文字流速度调节
允许用户调整文字显示速度，通过`state.textStreamingSpeed`控制字符延迟
- 可调节范围：0.1x 到 5.0x
- 默认速度：0.2x (500ms/char)

#### 2.2.3 语音同步 (Synctxt&voice v1.0)
支持语音输出功能，提供：
- 语音开关
- 语音速度调节
- 语音输入功能

#### 2.2.4 内容格式化
- 专家发言内容自动关键词加粗
- 分项列表格式化
- 段落美化

### 2.3 用户体验要求

#### 2.3.1 界面设计
- 响应式设计，支持移动端和PC端
- 苹果风格界面，清晰简洁
- 支持深色模式

#### 2.3.2 交互体验
- 专家发言时支持流式增量显示
- 支持用户在辩论过程中添加补充意见
- 每轮结束后可暂停或继续

## 3. 业务流程

### 3.1 主要流程
用户选择话题 -> 选择角色 -> 确定轮次 -> 策划策略 -> 确认开始 -> 辩论过程 -> 生成报告

### 3.2 关键用户路径
1. 首页登录/注册
2. 进入storm debate系统
3. 填写话题和背景
4. 选择角色
5. 确定轮次
6. 开始辩论
7. 查看输出报告
8. 导出报告

## 4. 性能要求

### 4.1 响应时间
- AI响应时间：< 3秒
- 首屏加载时间：< 2秒

### 4.2 并发支持
- 支持10个用户同时在线辩论

## 5. 数据要求

### 5.1 用户数据
- 用户注册信息
- 历史决策记录
- 角色偏好设置

### 5.2 记忆数据
- 上下文记忆数据库
- 历史对话数据

## 6. 安全性要求

### 6.1 用户隐私
- 用户数据本地化存储
- 严格遵守数据保护法规

### 6.2 系统安全
- 输入内容安全过滤
- API访问控制
- 网络安全防护

---

**版本历史：**
- 1.0.0: 初始版本，基于多魔汰v3.0架构设计